import{reactive as e,toRefs as t,ref as o,watch as n,onBeforeUnmount as i,resolveComponent as a,resolveDirective as r,openBlock as l,createBlock as s,Fragment as u,withDirectives as d,createVNode as c,vShow as h,toDisplayString as p,createCommentVNode as w,vModelCheckbox as g,vModelText as f}from"vue";function m(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function y(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function b(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?y(Object(o),!0).forEach((function(t){m(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function v(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return S(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var D=function(e){for(var t=[].concat(e),o=[],n=0,i=t.length;n<i;n++){var a=SuperMap3D.Cartographic.fromCartesian(t[n]),r=SuperMap3D.Math.toDegrees(a.longitude),l=SuperMap3D.Math.toDegrees(a.latitude),s=a.height;-1==o.indexOf(r)&&-1==o.indexOf(l)&&(o.push(r),o.push(l),o.push(s))}return o};var x,A,M={errorMsg:function(e){console.log("error",e),alert("error："+e)},warnMsg:function(e){console.log("warn",e)},successMsg:function(e){console.log("success",e)}},C=D,R=function(e,t,o,n){var i,a,r,l,s=[],u=[];n=n||1;var d,c=function(e){return Math.pow(e/255,n)};for(e=h(e).map(c),t=h(t).map(c),i=0;i<o;i++){for(l=1-(r=i/(o-1)),a=0;a<3;a++)u[a]=1===(d=Math.round(255*Math.pow(e[a]*l+t[a]*r,1/n)).toString(16)).length?"0"+d:d;s.push("#"+u.join(""))}return s;function h(e){return 4===e.length?e.substr(1).split("").map((function(e){return 17*parseInt(e,16)})):[e.substr(1,2),e.substr(3,2),e.substr(5,2)].map((function(e){return parseInt(e,16)}))}},T={showRenderLoopErrors:"渲染时发生错误，已停止渲染。",AttributeError:"该组件props没有这个属性：",NoPickPositionSupported:"不支持深度纹理,无法绘制多边形，地形操作功能无法使用！",NoTerrain:"请在地形里使用地形组件！",initViewerWarn:"请先初始化viewer!",MoveMouseHeightBox:"点击鼠标左键结束矩形绘制，移动鼠标绘制box高度",RightClickEndDrawing:"右键单击结束绘制",LeftClickBottomBox:"点击鼠标左键，开始绘制矩形作为box底面",ClickModelAddBox:"点击模型，添加裁剪盒子",SkyLineWarn:"获取天际线体前，请先绘制天际线！",SkyLineBody:"天际线体",ShadowqueryWarn:"此操作需要先开启阴影！",VeiwshedBody:"可视体",VeiwshedBodyHidden:"不可视体",EchartsErr:"二维显示需要echarts支持，未找到相关依赖！",BaseMapImg:"底图",tip1:"<p>点击左键确定操作区域中间点</p><p>右键单击结束绘制</p>"},B=(A=(navigator.language||navigator.browserLanguage).toLowerCase(),window.lang=A,A).toLowerCase();var F=((x=void 0!==B?B:(navigator.language||navigator.browserLanguage).toLowerCase()).startsWith("zh")||x.startsWith("ja"),T),k=e({isViewer:!1,changeLayers:0,changeGeometrys:0});var I=function(e,t){var o=0;switch(t&&(o=t),e){case"Point":window.handlerPoint=new SuperMap3D.DrawHandler(viewer,SuperMap3D.DrawMode.Point);break;case"Polyline":window.handlerPolyline=new SuperMap3D.DrawHandler(viewer,SuperMap3D.DrawMode.Line,o);break;case"Polygon":window.handlerPolygon=new SuperMap3D.DrawHandler(viewer,SuperMap3D.DrawMode.Polygon,o);break;case"Marker":window.handlerMarker=new SuperMap3D.DrawHandler(viewer,SuperMap3D.DrawMode.Marker,o);break;case"Box":window.handlerBox=new SuperMap3D.DrawHandler(viewer,SuperMap3D.DrawMode.Box,o)}window.tooltip||(window.tooltip=function(e){var t=function(e){var t=document.createElement("DIV");t.className="twipsy right";var o=document.createElement("DIV");o.className="twipsy-arrow",t.appendChild(o);var n=document.createElement("DIV");n.className="twipsy-inner",t.appendChild(n),this._div=t,this._title=n,this.message="",e.appendChild(t);var i=this;t.onmousemove=function(e){i.showAt({x:e.clientX,y:e.clientY},i.message)}};return t.prototype.setVisible=function(e){this._div.style.display=e?"block":"none"},t.prototype.showAt=function(e,t){e&&t&&(this.setVisible(!0),this._title.innerHTML=t,this._div.style.left=e.x+10+"px",this._div.style.top=e.y-this._div.clientHeight/2+"px",this.message=t)},new t(e)}(viewer._element)),window.polylineCollection||(window.polylineCollection=new SuperMap3D.PolylineCollection({translucentRS:SuperMap3D.RenderState.fromCache({depthMask:!1,depthTest:{enabled:!1}})}),window.polylineTransparent=window.polylineCollection.add({width:2,material:SuperMap3D.Material.fromType(SuperMap3D.Material.ColorType,{color:SuperMap3D.Color.fromCssColorString("#51ff00").withAlpha(.3)})}),viewer.scene.primitives.add(window.polylineCollection))},V=function(e){var t;switch(e){case"Point":t=window.handlerPoint;break;case"Polyline":t=window.handlerPolyline;break;case"Polygon":t=window.handlerPolygon;break;case"Marker":t=window.handlerMarker;break;case"Box":t=window.handlerBox}return t};function L(e){var t=function(e){var t=document.createElement("DIV");t.className="tooltip",this._div=t,this.message="",e.appendChild(t)};return t.prototype.setVisible=function(e){this._div.style.right=e?"10px":"-300px"},t.prototype.showAt=function(e,t){t&&(this._div.style.top=t),e&&(this.setVisible(!0),this._div.innerHTML=e)},new t(e)}function H(a){var r=e({timeValue:[24,64],currentDate:new Date,shadowShow:!0,marks:{0:"0:00",8:"",16:"",24:"6:00",32:"",40:"",48:"12:00",56:"",64:"",72:"18:00",80:"",88:"",96:"24:00"},timeInterval:60,spacing:10,bottomHeight:1,extrudeHeight:30,shadowQueryRegion:[],layerShadowType:SuperMap3D.ShadowType.ALL,terrainShadows:SuperMap3D.ShadowMode.RECEIVE_ONLY,showStartImgForTime:!0,showStartImgForDate:!0,shadowRadio:{shadowRadio:"",longitude:"",latitude:"",height:"",isShow:!1},dockFontShow:!0,legendShow:!1,shadowBodyShow:!1,shadowBodyFilter:[0,100]});if(a)for(var l in a)r.hasOwnProperty(l)?r[l]=a[l]:M.errorMsg(F.AttributeError+l);a&&a.shadowQueryRegion&&E(a.shadowQueryRegion);var s,u,d,c,h,p,w,g=!0,f=v(r.timeValue),m=o(null),y="public/data/s3m/box.s3m",S=[],x=R,A=["#0000ff"];function T(){var e=viewer.scene;viewer.shadows=r.shadowShow,viewer.terrainShadows=r.terrainShadows,u=viewer.scene.layers.layerQueue,e.globe.enableLighting=!0,e.skyBox.show=!0,viewer.clock.multiplier=1,viewer.clock.shouldAnimate=!0,s=new SuperMap3D.ShadowQueryPoints(e),(h=new SuperMap3D.S3MInstanceCollection(e._context)).setCullEnabled(y,!0),e.primitives.add(h),s.queryPointsEvent.addEventListener((function(e){S=e,r.shadowBodyShow&&Q()})),k.changeLayers&&B()}function B(){for(var e=0;e<u.length;e++)u[e].shadowType=r.layerShadowType,p=!0}function H(e){var t;t=f[0]===e[0]?P(e[1]):P(e[0]),viewer.clock.currentTime=SuperMap3D.JulianDate.fromDate(t),f=e}function P(e){var t=parseInt(e/4),o=parseInt(e%4*15),n=r.currentDate;return n.setHours(t),n.setMinutes(o),n}function N(e){r.shadowShow&&(s.startTime=SuperMap3D.JulianDate.fromDate(P(e[0])),s.endTime=SuperMap3D.JulianDate.fromDate(P(e[1]))),r.showStartImgForTime&&r.shadowQueryRegion.length>0&&s.build()}function E(e){N(r.timeValue);var t=[];s.spacing=Number(r.spacing),s.timeInterval=Number(r.timeInterval);for(var o=Number(r.bottomHeight),n=Number(r.extrudeHeight),i=0,a=SuperMap3D.arrayRemoveDuplicates(e,SuperMap3D.Cartesian3.equalsEpsilon).length;i<a;i++){var l=SuperMap3D.Cartographic.fromCartesian(e[i]),u=SuperMap3D.Math.toDegrees(l.longitude),d=SuperMap3D.Math.toDegrees(l.latitude);t.push(u),t.push(d)}r.shadowQueryRegion=t,s.qureyRegion({position:t,bottom:o,extend:n}),s.build()}function j(e){if(r.shadowBodyShow){var t=scene.pick(e.message.position);if(t&&t.id){var o=S[t.id];if(!o)return;var n=100*o.shadowRatio;(n<r.shadowBodyFilter[0]||n>r.shadowBodyFilter[1])&&(r.shadowRadio.isShow=!1);var i=C(o.position);r.shadowRadio={shadowRadio:(100*o.shadowRatio).toFixed(0)+"%",longitude:i[0].toFixed(8),latitude:i[1].toFixed(8),height:i[2].toFixed(8),isShow:!0},m.value.style.top=e.message.position.y-160+"px",m.value.style.left=e.message.position.x+"px"}else r.shadowRadio.isShow=!1}else{var a=scene.pickPosition(e.message.position),l=SuperMap3D.Cartographic.fromCartesian(a),u=s.getShadowRadio(l);if(-1!=u){var d=SuperMap3D.Math.toDegrees(l.longitude),c=SuperMap3D.Math.toDegrees(l.latitude),h=l.height;r.shadowRadio={shadowRadio:(100*u).toFixed(0)+"%",longitude:d.toFixed(8),latitude:c.toFixed(8),height:h.toFixed(8),isShow:!0},m.value.style.top=e.message.position.y-160+"px",m.value.style.left=e.message.position.x+"px"}else r.shadowRadio.isShow=!1}}function G(){r.shadowRadio.isShow=!1}function O(){var e,t;r.legendShow=!1,(t=e?V(e):window.handlerPolygon)&&(t.deactivate(),t.clear(),viewer.enableCursorStyle=!0,window.tooltip.setVisible(!1),window.polylineTransparent&&(window.polylineTransparent.show=!1)),r.shadowQueryRegion.length=0,tooltip.setVisible(!1),G(),viewer.eventManager.removeEventListener("CLICK",j),s.clear(),S.length=0,h.removeCollection(y);for(var o=0;o<u.length;o++)u[o].shadowType=SuperMap3D.ShadowType.NONE}function Q(){var e=[];if(!(s._bottom<0||0==S.length)){for(var t,o,n,i=Number(r.spacing-.5),a=0,l=S.length;a<l;a++)e.push({position:S[a].position,color:(t=S[a].shadowRatio,o=void 0,n=void 0,o=parseInt(100*t),n=A[o],SuperMap3D.Color.fromCssColorString(n)),scale:new SuperMap3D.Cartesian3(i,i,i)});e.length>0&&h.add(y,e),U(r.shadowBodyFilter)}}function U(e){if(!(s._bottom<=0||0==S.length))for(var t=0,o=S.length;t<o;t++){var n=100*S[t].shadowRatio;n<e[0]||n>e[1]?h.getInstance(y,t).visible=!1:h.getInstance(y,t).visible=!0}}function z(e){w&&clearTimeout(w),w=setTimeout((function(){e()}),500)}return A=A.concat(x("#0000ff","#00ffff",20)).concat(x("#00ffff","#00ff00",20)).concat(x("#00ff00","#ffff00",20)).concat(x("#ffff00","#ff7f00",20)).concat(x("#ff7f00","#ff0000",20)),k.isViewer&&(window.tooltip||(window.tooltip=L(viewer._element)),T()),n((function(){return k.isViewer}),(function(e){e&&(window.tooltip||(window.tooltip=L(viewer._element)),T())})),n((function(){return k.changeLayers}),(function(e){B()})),n((function(){return r.timeValue}),(function(e){H(e)})),n((function(){return r.currentDate}),(function(e){H(f)})),n((function(){return r.timeInterval}),(function(e){z((function(){s.timeInterval=Number(e)}))})),n((function(){return r.spacing}),(function(e){z((function(){s.spacing=Number(e)}))})),n((function(){return r.bottomHeight}),(function(e){0!==r.shadowQueryRegion.length&&z((function(){var t=Number(e),o=Number(r.extrudeHeight);s.qureyRegion({position:r.shadowQueryRegion,bottom:t,extend:o}),s.build()}))})),n((function(){return r.extrudeHeight}),(function(e){0!==r.shadowQueryRegion.length&&z((function(){var t=Number(r.bottomHeight),o=Number(e);s.qureyRegion({position:r.shadowQueryRegion,bottom:t,extend:o}),s.build()}))})),n((function(){return r.shadowShow}),(function(e){viewer.shadows=e;for(var t=0,o=u.length;t<o&&u[t].shadowType!=r.layerShadowType;t++)u[t].shadowType=r.layerShadowType})),n((function(){return r.shadowBodyShow}),(function(e){e?(s.isPointsVisible=!1,Q()):(s.isPointsVisible=!0,h.removeCollection(y))})),i((function(){O(),s.destroy(),s=void 0,viewer.shadows=!1,u=void 0})),b(b({},t(r)),{},{timeChanged:N,filterChanged:function(e){U(e)},formatTooltip:function(e){return e===r.timeValue[0]?"开始时间:"+t(P(e).toLocaleTimeString()):"结束时间:"+t(P(e).toLocaleTimeString());function t(e){var t=e.split(":");return t[0]+":"+t[1]}},sunLightForTime:function(e){if(c&&(r.showStartImgForDate=!0,clearInterval(c)),!e)return r.showStartImgForTime=!0,void clearInterval(d);r.showStartImgForTime=!1;var t=v(f),o=t[0],n=t[1],i=o;d=setInterval((function(){i<n?(i+=.5,r.timeValue=[o,i]):(r.showStartImgForTime=!0,clearInterval(d))}),50)},sunLightForDate:function(e){if(d&&(clearInterval(d),r.showStartImgForTime=!0),!e)return r.showStartImgForDate=!0,void clearInterval(c);r.showStartImgForDate=!1;var t=P(f[1]),o=t.getMonth();c=setInterval((function(){o<11?o+=1:o=0,t.setMonth(o),r.currentDate=new Date(t)}),1e3)},analysis:function(){r.shadowShow?(tooltip.setVisible(!1),g&&(window.tooltip.showAt(" <p>点击鼠标左键绘制分析区域</p><p>点击鼠标右键结束绘制</p>","350px"),g=!1),p&&u[0].shadowType==r.layerShadowType||B(),window.handlerPolygon||I("Polygon"),function(e,t,o){var n=!0;!1===t&&(n=t);var i=V(e);return new Promise((function(t,o){var a=window.tooltip,r=i.activeEvt.addEventListener((function(t){1==t?(viewer.enableCursorStyle=!1,viewer._element.style.cursor="","Point"==e||"Marker"==e?document.body.classList.add("measureCur"):document.body.classList.add("drawCur")):(viewer.enableCursorStyle=!0,a.setVisible(!1),"Point"==e||"Marker"==e?document.body.classList.remove("measureCur"):document.body.classList.remove("drawCur"))})),l=i.movingEvt.addEventListener((function(t){if(t.x<200&&t.y<150)a.setVisible(!1);else if(i.polyline&&i.isDrawing){var o=v(i.positions);"Polygon"==e&&o.push(o[0]),window.polylineTransparent.show=!0,window.polylineTransparent.positions=o}})),s=i.drawEvt.addEventListener((function(o){if(!o.object.positions&&"Point"!=e&&"Box"!=e)return a.showAt(o,"<p>请绘制正确的多边形</p>"),i.polygon.show=!1,i.polyline.show=!1,i.deactivate(),void i.activate();if("Box"!=e){if("Point"==e||"Marker"==e)i.clear(),t({result:o});else{if(window.polylineTransparent.show=n,n&&"Polygon"==e&&n){i.polygon._polygon._material._color._value.alpha=.1;var u=v(o.object.positions);u.push(u[0]),window.polylineTransparent.positions=u}var d=D(o.object.positions);t({result:o,positions:d})}r(),l(),s()}else t({result:o})}))}))}("Polygon").then((function(e){var t=window.handlerPolygon;E(e.result.object.positions),t.polygon.show=!1,t.polyline.show=!1,t.deactivate(),viewer.eventManager.addEventListener("CLICK",j,!0)}),(function(e){console.log(e)})),window.handlerPolygon.activate(),r.legendShow=!0):r.shadowShow=!0},clear:O,bubble:m,closeBubble:G,dockBubble:function(e){e?(m.value.classList.add("bubbleDock"),r.dockFontShow=!1):(m.value.classList.remove("bubbleDock"),r.dockFontShow=!0)}})}var P={name:"Sm3dShadowQuery",props:{timeValue:{type:Array},currentDate:{type:Object},shadowShow:{type:Boolean,default:!0},timeInterval:{type:Number},spacing:{type:Number},bottomHeight:{type:Number},extrudeHeight:{type:Number},shadowQueryRegion:{type:Array},layerShadowType:{type:Number},terrainShadows:{type:Number},showStartImgForTime:{type:Boolean,default:!0},showStartImgForDate:{type:Boolean,default:!0},dockFontShow:{type:Boolean,default:!0},legendShow:{type:Boolean,default:!1},shadowBodyShow:{type:Boolean,default:!1},shadowBodyFilter:{type:Array}},methods:{formatTooltip2:function(e){return"采光率："+e+"%"},formatTooltip3:function(e){return e+"米"}},setup:function(e){var t=H(e);return{marks:t.marks,timeValue:t.timeValue,currentDate:t.currentDate,shadowShow:t.shadowShow,timeChanged:t.timeChanged,formatTooltip:t.formatTooltip,sunLightForTime:t.sunLightForTime,sunLightForDate:t.sunLightForDate,analysis:t.analysis,clear:t.clear,showStartImgForTime:t.showStartImgForTime,showStartImgForDate:t.showStartImgForDate,shadowRadio:t.shadowRadio,bubble:t.bubble,closeBubble:t.closeBubble,dockBubble:t.dockBubble,dockFontShow:t.dockFontShow,legendShow:t.legendShow,shadowBodyShow:t.shadowBodyShow,shadowBodyFilter:t.shadowBodyFilter,filterChanged:t.filterChanged,extrudeHeight:t.extrudeHeight,spacing:t.spacing}}},N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAD2ElEQVRYR+2XTWwUZRjH/8+7UAxp8WCCdGbrhfoRTGrozkpE2sChGDxoIujFg+GwM0tQ8DMROYgkgkYsUiTsTG8mHlRqojGi9EBDiwT23RKbQPyoF7szKIkHKTFY2fcxs7vY3e3szBQ1jYlznPf5+M3/eZ/3fYawwA8tcH78twC6B6e6hBI9INoCZg2g9oqCfAlEHpiPKaFGxzMdE3GVjaVA96DXI5TaCdDmeIF5SAlxaDyjjUbZRwIYOXcAhGeqgQoEGmbiMwklJjHTUiy/b5lJloTqJKYHGNwHIFURBodlVt8RBhEKYNjF7wHqBPANQAelpTlRX+SvG7ZnAvwcgHsAnpRW8s5mfk0BDMcdA+NBANNKLFo3nrk9dl39ZN2DP3cJdX0MQBsIp6WprwuCCAQw7OLrAL3iO0hLjyxTmCqG7XJ1o+6TVnJ3o+2c4IYztQksPi8bKrVBbusYiSN7Mxvj6NR6CHGyvE7qYWl2HK+1nQOQdtxTzOhh5v2FbLKswt99UrniPiLaRYTRvKn3NgVI2T9uJCS+BHD+t+uLey9uX361MbnheCfB3AlQv7S0g3HgVh253Lp00R+nAKxmlB4qWHecuOFXp0Aq575FhBcBvCst/Ubr1eWYrWn59Rli2pvPal9EgRi2exjA08w4UMjqLwUCGLZ7GsBaYtqcz2ofBwVtAKiUFvRR3tKeCINI57zHmHgIwFfS0v3uqvrWeBm2NwnwygSLe89m2y/GBfjLToinZKb9vSC/NblLq0qkLgD0g7Q0/2wJBJgGuDXx+y23nt1x25V5A4SosWbgl2WlJdd+BeiqtLS2ZgBXAG77lwGmpaUta7YHvgVw102XgKi/dXH77pGtdK1RvdkS4Dtp6XcHA1RabD0Ij0pT/3QeJfggwWJvs33jxzEc9xEwPgHRiDS1Dc0U2O63IIHeyFvarhgAY4ISb54zV3wW1YZp29vP4Jf9VpSWfiQQoDpwfA3CxEwp0TexbcXlxsDVg2glgw4ULG0gKrG/3nX0p+UtidIwGF1KqPtqB5a5d4FdPOYPHnF6O05y3yZtex8y+HGAh6SV3FLrNwegMv2wf2yCmJ7NZ7VDcRMF2aVz3k4mfsdfU4J6G6ek4OvY8d4G8/O+0z92HRP1S1N7oREyZCCpdkQZff7Xcv01XL/zQ0tQu1g/D7KjhHDGM1ohrCTdg15KKGUCZJbtIubCyGnHsN1XAeyZTUrHifC+UHS+dihVglcz40mAN9UA7pGW/loYcCSA77ygY3kt/f05z1CkNoJEX/CPiRoWLE6cy2oybufEUiBusJux+x/gT7q4qzC8oWE0AAAAAElFTkSuQmCC",E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADfElEQVRYR9WXT2gUdxTHv++3YKSYWOjJmY0XEwsKFbOTFv9EzEHFHHpo1Yu9Zn8p1hRsCrY9qAf1oDaYKO5szl6MORTB0FyS+hfNb7dYULDGS7Mz4qGUxgpGyO/J7GxgdjOzM5pI6MAedt6f3+e933u/3xvCMj+0zOvj/wXQNjT9idCiA0T7wGwAtAYoB/Ec4OcMfQ0QYwVpFpNmNlEG2obcDqH1twB9mcwxj2ghzhe7jZtx+rEAVs4ZAOFwxVGRQGNMfDelxRReryiV3694nZ4TuoWYtjB4F4BM+T1jUPWYvfUg6gJYdukJQC2eAwL98M/sy/6p3tbZuKgs280C6AV4I8BTSqZbo2wiAay8cwuMbX4gfKAg08NxCwfln+WebZgjvlKGINxWWXN7mH0ogGWXTgL0o2egpBm7TVFgVRDgU0qmf6rVXeDcyk/vBYvrZUWtO9XXzRNvE3mtbnUmdJfKNo8GdRYAtOedG8zoADivZFouZvF5W78m2CbCzcmsuSMSIGP/tZuQ+rUcvCCr2G0UgsrzjgCSShr5pDJPz7Id5XUHY25PQa4dm7etykAm55whQh9Ao0oaXbXRW7ZzDMBx76ekeaIaIFpWARgE8A0zzhZ6zO9DASzbuQ1gKxF9NZk1Li8lQHvO/YKJRwDcUdIsd5ff3oHHst0pgNelWGy817Pm0VIC+MWoHwL0VEmjfLaEAbwAeFVqduXqe70fzSwpwMDfTXMNr/4F6D8ljcYogBmAG98zwAsljaaoGngMYP373QL8qaT5cThA3h0H886oo3dRXZB3PgfjFxBNqKzRGZWBQwAuEGh4UhoHlrIG2m33NIOPeq2opHkxFKAycDzwhIJ56/2e9N0gRMYu7SfQlbAM1ZO1DDxp+LDhgzsA2rTQm4rdzX+EAvgHRumqN3hEZaE2K0n+t9vuUQafBnhEyfS+oM2Cu8CffviGp8TgvoJMn0uySJTOfGY8uRa0o3ZKCr+O8+45MB/xjBZzHfsZddg/cehnlTW+qwWtM5D4HVHJxFsPJNal6Z0QYryyeFXl192CoDA4D3o1Qaz7awuzNqK2ITcjtM4C5I1lsXNh7LQT6P3KWjRKhMtC0+/BoVQL3syMgwDvDUAtuDUTb0FQcVnH8iDIpznX0qR3g8Su0A8T5t9SwLW4bUpcA4tpv6S2sTWQ1NG76i07wBsGL9kwcaf0IQAAAABJRU5ErkJggg==",j={id:"shadowquery-panel",class:"sm-panel"},G={class:"sm-function-module-sub-section",style:{margin:"0"}},O={class:"sm-half-L"},Q={class:"sm-slider-input-box-M"},U={class:"sm-half-L"},z={class:"sm-slider-input-box-M",style:{height:"34px"}},Y={class:"sm-half-L"},q={style:{width:"40%"}},W={class:"flex flex-start",style:{width:"35%","align-items":"center"}},K={style:{width:"auto"}},X={class:"sm-half-L"},Z={style:{width:"40%"}},J={class:"boxchild flex-between",style:{padding:"0"}},_={class:"flex flex-start",style:{width:"35%","align-items":"center"}},$={style:{width:"auto"}},ee={class:"flex flex-end",style:{width:"auto"}},te={id:"bubble",class:"bubble",ref:"bubble"},oe={class:"boxchild flex-between"},ne=c("label",{style:{width:"auto"}},"分析结果",-1),ie={class:"flex flex-end",style:{width:"auto"}},ae={class:"sm-half-L"},re=c("label",{class:"label-S"},"采光率",-1),le={class:"sm-half-L"},se=c("label",{class:"label-S"},"经度",-1),ue={class:"sm-half-L"},de=c("label",{class:"label-S"},"纬度",-1),ce={class:"sm-half-L"},he=c("label",{class:"label-S"},"高程",-1),pe={class:"legend"},we=c("img",{src:"public/img/other/legend_shadow.png",alt:""},null,-1);P.render=function(e,t,o,n,i,m){var y=a("el-slider"),b=a("el-date-picker"),v=r("stopdrag"),S=r("drag");return l(),s(u,null,[d(c("div",j,[d(c("div",G,[c("div",O,[c("div",Q,[c(y,{modelValue:n.timeValue,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.timeValue=e}),max:96,step:.5,range:"",marks:n.marks,"tooltip-class":"tooltip-class","format-tooltip":n.formatTooltip,onChange:n.timeChanged},null,8,["modelValue","step","marks","format-tooltip","onChange"])]),d(c("img",{src:N,title:e.Resource.title1,style:{width:"36px",height:"36px","margin-top":"-20px"},onClick:t[2]||(t[2]=function(e){return n.sunLightForTime(!0)})},null,8,["title"]),[[h,n.showStartImgForTime]]),d(c("img",{src:E,title:e.Resource.title0,style:{width:"36px",height:"36px","margin-top":"-20px"},onClick:t[3]||(t[3]=function(e){return n.sunLightForTime(!1)})},null,8,["title"]),[[h,!n.showStartImgForTime]])]),c("div",U,[c("div",z,[c(b,{modelValue:n.currentDate,"onUpdate:modelValue":t[4]||(t[4]=function(e){return n.currentDate=e}),type:"date",size:"small",clearable:!1},null,8,["modelValue"])]),d(c("img",{src:N,title:e.Resource.title2,style:{width:"36px",height:"36px"},onClick:t[5]||(t[5]=function(e){return n.sunLightForDate(!0)})},null,8,["title"]),[[h,n.showStartImgForDate]]),d(c("img",{src:E,title:e.Resource.title0,style:{width:"36px",height:"36px"},onClick:t[6]||(t[6]=function(e){return n.sunLightForDate(!1)})},null,8,["title"]),[[h,!n.showStartImgForDate]])]),c("div",Y,[c("label",q,p(e.Resource.stretchHeight),1),c(y,{modelValue:n.extrudeHeight,"onUpdate:modelValue":t[7]||(t[7]=function(e){return n.extrudeHeight=e}),min:0,max:150,step:1,"input-size":"mini",debounce:500,"format-tooltip":m.formatTooltip3,"tooltip-class":"tooltip-class",style:{width:"58%"}},null,8,["modelValue","format-tooltip"]),w(' <input class="sm-input-S" min="1" step="1" type="number" v-model="clipWidth" /> ')]),w(' <div class="sm-half-L">\r\n        <label style="width: 40%;">分析间距</label>\r\n        <el-slider\r\n          v-model="spacing"\r\n          :min="0.5"\r\n          :max="50"\r\n          :step="0.5"\r\n          input-size="mini"\r\n          :debounce="500"\r\n          :format-tooltip="formatTooltip3"\r\n          tooltip-class="tooltip-class"\r\n          style="width:58%"\r\n        ></el-slider>\r\n      </div> '),c("div",W,[d(c("input",{checked:"",type:"checkbox",style:{"margin-right":"10%"},"onUpdate:modelValue":t[8]||(t[8]=function(e){return n.shadowBodyShow=e})},null,512),[[g,n.shadowBodyShow]]),c("label",K,p(e.Resource.bodyShow),1)]),d(c("div",X,[c("label",Z,p(e.Resource.daylightFilter),1),c(y,{modelValue:n.shadowBodyFilter,"onUpdate:modelValue":t[9]||(t[9]=function(e){return n.shadowBodyFilter=e}),min:0,max:100,range:"",step:1,"input-size":"mini",debounce:500,"tooltip-class":"tooltip-class",onChange:n.filterChanged,"format-tooltip":m.formatTooltip2,style:{width:"58%"}},null,8,["modelValue","onChange","format-tooltip"])],512),[[h,n.shadowBodyShow]]),c("div",J,[c("div",_,[d(c("input",{checked:"",type:"checkbox",style:{"margin-right":"10%"},"onUpdate:modelValue":t[10]||(t[10]=function(e){return n.shadowShow=e})},null,512),[[g,n.shadowShow]]),c("label",$,p(e.Resource.shadowShow),1)]),c("div",ee,[c("button",{onClick:t[11]||(t[11]=function(){return n.analysis&&n.analysis.apply(n,arguments)}),class:"tbtn tbtn-width",type:"button",style:""},p(e.Resource.analyze),1),c("button",{onClick:t[12]||(t[12]=function(){return n.clear&&n.clear.apply(n,arguments)}),class:"tbtn tbtn-width tbtn-margin-left",type:"button"},p(e.Resource.clear),1)])])],512),[[v]])],512),[[S]]),d(c("div",te,[c("div",oe,[ne,c("div",ie,[d(c("i",{class:"el-icon-position",title:"停靠",style:{"margin-right":"8px"},onClick:t[13]||(t[13]=function(e){return n.dockBubble(!0)})},null,512),[[h,n.dockFontShow]]),d(c("i",{class:"el-icon-chat-square",title:"悬浮",style:{"margin-right":"8px"},onClick:t[14]||(t[14]=function(e){return n.dockBubble(!1)})},null,512),[[h,!n.dockFontShow]]),c("i",{class:"el-icon-close",title:"关闭",onClick:t[15]||(t[15]=function(){return n.closeBubble&&n.closeBubble.apply(n,arguments)})})])]),c("div",ae,[re,d(c("input",{class:"sm-input-M",style:{width:"70%",height:"20px"},type:"text","onUpdate:modelValue":t[16]||(t[16]=function(e){return n.shadowRadio.shadowRadio=e})},null,512),[[f,n.shadowRadio.shadowRadio]])]),c("div",le,[se,d(c("input",{class:"sm-input-M",style:{width:"70%",height:"20px"},type:"text","onUpdate:modelValue":t[17]||(t[17]=function(e){return n.shadowRadio.longitude=e})},null,512),[[f,n.shadowRadio.longitude]])]),c("div",ue,[de,d(c("input",{class:"sm-input-M",style:{width:"70%",height:"20px"},type:"text","onUpdate:modelValue":t[18]||(t[18]=function(e){return n.shadowRadio.latitude=e})},null,512),[[f,n.shadowRadio.latitude]])]),c("div",ce,[he,d(c("input",{class:"sm-input-M",style:{width:"70%",height:"20px"},type:"text","onUpdate:modelValue":t[19]||(t[19]=function(e){return n.shadowRadio.height=e})},null,512),[[f,n.shadowRadio.height]])])],512),[[h,n.shadowRadio.isShow]]),d(c("div",pe,[we],512),[[h,n.legendShow]])],64)},P.__file="src/components/analysis_3d/shadow-query/shadow-query.vue",P.install=function(e){e.component(P.name,P)};export default P;
