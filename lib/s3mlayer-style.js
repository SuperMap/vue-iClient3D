import{reactive as e,toRefs as l,watch as t,onBeforeUnmount as o,resolveComponent as r,resolveDirective as n,withDirectives as i,openBlock as a,createBlock as s,createVNode as u,toDisplayString as c,Fragment as d,renderList as m,vShow as f,vModelSelect as y,vModelRadio as p,createTextVNode as b,vModelText as h}from"vue";function v(e,l,t){return l in e?Object.defineProperty(e,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[l]=t,e}function C(e,l){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);l&&(o=o.filter((function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),t.push.apply(t,o)}return t}var w=e({isViewer:!1,changeLayers:0,changeGeometrys:0});var g,S,D={errorMsg:function(e){console.log("error",e),alert("error："+e)},warnMsg:function(e){console.log("warn",e)},successMsg:function(e){console.log("success",e)}},M={showRenderLoopErrors:"渲染时发生错误，已停止渲染。",AttributeError:"该组件props没有这个属性：",NoPickPositionSupported:"不支持深度纹理,无法绘制多边形，地形操作功能无法使用！",NoTerrain:"请在地形里使用地形组件！",initViewerWarn:"请先初始化viewer!",MoveMouseHeightBox:"点击鼠标左键结束矩形绘制，移动鼠标绘制box高度",RightClickEndDrawing:"右键单击结束绘制",LeftClickBottomBox:"点击鼠标左键，开始绘制矩形作为box底面",ClickModelAddBox:"点击模型，添加裁剪盒子",SkyLineWarn:"获取天际线体前，请先绘制天际线！",SkyLineBody:"天际线体",ShadowqueryWarn:"此操作需要先开启阴影！",VeiwshedBody:"可视体",VeiwshedBodyHidden:"不可视体",EchartsErr:"二维显示需要echarts支持，未找到相关依赖！",BaseMapImg:"底图",tip1:"<p>点击左键确定操作区域中间点</p><p>右键单击结束绘制</p>"},L=(S=(navigator.language||navigator.browserLanguage).toLowerCase(),window.lang=S,S).toLowerCase();var N=((g=void 0!==L?L:(navigator.language||navigator.browserLanguage).toLowerCase()).startsWith("zh")||g.startsWith("ja"),M);function V(r){var n,i,a=this,s=e({layerNames:[],selectedLayerName:"none",foreColor:"#ffffff",lineColor:"rgba(27, 27, 27, 1)",selectedColor:"#A40FF4",selectColorMode:"mix",bottomAltitude:0,LODScale:5,layerTrans:1,fillStyle:"fill-and-wireframe",visibleDistanceMin:0,visibleDistanceMax:1e4});if(r)for(var u in r)s.hasOwnProperty(u)?s[u]=r[u]:D.errorMsg(N.AttributeError+u);function c(){viewer.scene,(n=viewer.scene.layers.layerQueue)&&n.length>0?(n.forEach((function(e,l){s.layerNames.includes(e._name)||s.layerNames.push(e._name)})),(s.selectedLayerName="none")&&(s.selectedLayerName=s.layerNames[0],i=n[0])):s.layerNames=[]}return w.isViewer&&c(),t((function(){return w.isViewer}),(function(e){e&&c()})),t((function(){return w.changeLayers}),(function(e){c()})),o((function(){n=null})),t((function(){return s.selectedLayerName}),(function(e){var l=s.layerNames.indexOf(e);-1!=l&&(i=n[l])})),t((function(){return s.foreColor}),(function(e){i&&(i.style3D.fillForeColor=SuperMap3D.Color.fromCssColorString(e))})),t((function(){return s.lineColor}),(function(e){i&&(i.style3D.lineColor=SuperMap3D.Color.fromCssColorString(e))})),t((function(){return s.selectedColor}),(function(e){i&&(i.selectedColor=SuperMap3D.Color.fromCssColorString(e))})),t((function(){return s.selectColorMode}),(function(e){i&&(i.selectColorType="mix"===e?0:1)})),t((function(){return s.bottomAltitude}),(function(e){i&&(i.style3D.bottomAltitude=Number(e)),i.refresh()})),t((function(){return s.fillStyle}),(function(e){if(i)switch(e){case"fill":i.style3D.fillStyle=SuperMap3D.FillStyle.Fill;break;case"wireframe":i.style3D.fillStyle=SuperMap3D.FillStyle.WireFrame,i.style3D.lineColor=SuperMap3D.Color.fromCssColorString(s.lineColor);break;case"fill-and-wireframe":i.style3D.fillStyle=SuperMap3D.FillStyle.Fill_And_WireFrame,i.style3D.lineColor=SuperMap3D.Color.fromCssColorString(s.lineColor)}i.refresh()})),t((function(){return s.LODScale}),(function(e){i&&(i.lodRangeScale=Number(e))})),t((function(){return s.layerTrans}),(function(e){i&&(i.style3D.fillForeColor.alpha=Number(e))})),t((function(){return s.visibleDistanceMin}),(function(e){""==e&&(e=0),i&&(i.visibleDistanceMin=Number(e))})),t((function(){return s.visibleDistanceMax}),(function(e){""==e&&(e=a.maxNumber),i&&(i.cullEnabled=e),i.visibleDistanceMax=Number(e)})),function(e){for(var l=1;l<arguments.length;l++){var t=null!=arguments[l]?arguments[l]:{};l%2?C(Object(t),!0).forEach((function(l){v(e,l,t[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(t,l))}))}return e}({},l(s))}var O={name:"Sm3dS3mlayerStyle",props:{selectedLayerName:{type:String},foreColor:{type:String},lineColor:{type:String},selectedColor:{type:String},selectColorMode:{type:String},bottomAltitude:{type:Number},LODScale:{type:Number},layerTrans:{type:Number},fillStyle:{type:String},visibleDistanceMin:{type:Number},visibleDistanceMax:{type:Number}},setup:function(e){var l=V(e);return{layerNames:l.layerNames,selectedLayerName:l.selectedLayerName,foreColor:l.foreColor,lineColor:l.lineColor,selectedColor:l.selectedColor,selectColorMode:l.selectColorMode,bottomAltitude:l.bottomAltitude,LODScale:l.LODScale,layerTrans:l.layerTrans,fillStyle:l.fillStyle,visibleDistanceMin:l.visibleDistanceMin,visibleDistanceMax:l.visibleDistanceMax}}},x={id:"s3mlayer-attribute-panel",class:"sm-panel"},R={class:"sm-function-module-sub-section",style:{margin:"0"}},A={class:"sm-half-L"},j={style:{width:"35%"}},P={class:"sm-half-L"},U={style:{width:"35%"}},k={class:"sm-half-L"},F={style:{width:"35%"}},E={class:"sm-half-L"},T={style:{width:"35%"}},B={class:"sm-half-L"},z={style:{width:"35%"}},W={class:"sm-half",style:{width:"63%"}},_={style:{width:"auto"}},H={style:{width:"auto"}},q={class:"sm-half-L"},G={style:{width:"35%"}},I={class:"sm-half-L"},Q=u("label",{style:{width:"35%"}},"LOD",-1),J={class:"sm-half-L"},K={style:{width:"35%"}},X={class:"sm-half-L"},Y={style:{width:"35%"}},Z={value:"fill"},$={value:"wireframe"},ee={value:"fill-and-wireframe"},le={class:"sm-half-L"},te={style:{width:"35%"}},oe={class:"sm-half-L"},re={style:{width:"35%"}};O.render=function(e,l,t,o,v,C){var w=r("el-color-picker"),g=r("el-slider"),S=n("stopdrag"),D=n("drag");return i((a(),s("div",x,[i(u("div",R,[u("div",A,[u("label",j,c(e.Resource.selectedLayer),1),i(u("select",{class:"sm-select",style:{width:"63%"},"onUpdate:modelValue":l[1]||(l[1]=function(e){return o.selectedLayerName=e})},[(a(!0),s(d,null,m(o.layerNames,(function(e,l){return a(),s("option",{key:l,value:e},c(e),9,["value"])})),128)),i(u("option",{value:"none"},c(e.Resource.noS3mLayer),513),[[f,0==o.layerNames.length]])],512),[[y,o.selectedLayerName]])]),u("div",P,[u("label",U,c(e.Resource.foreColor),1),u(w,{modelValue:o.foreColor,"onUpdate:modelValue":l[2]||(l[2]=function(e){return o.foreColor=e}),size:"mini","show-alpha":"",style:{width:"63%"}},null,8,["modelValue"])]),u("div",k,[u("label",F,c(e.Resource.lineColor),1),u(w,{modelValue:o.lineColor,"onUpdate:modelValue":l[3]||(l[3]=function(e){return o.lineColor=e}),size:"mini","show-alpha":"",style:{width:"63%"}},null,8,["modelValue"])]),u("div",E,[u("label",T,c(e.Resource.selectedColor),1),u(w,{modelValue:o.selectedColor,"onUpdate:modelValue":l[4]||(l[4]=function(e){return o.selectedColor=e}),size:"mini","show-alpha":"",style:{width:"63%"}},null,8,["modelValue"])]),u("div",B,[u("label",z,c(e.Resource.selectColorMode),1),u("div",W,[u("label",_,[i(u("input",{type:"radio",value:"mix","onUpdate:modelValue":l[5]||(l[5]=function(e){return o.selectColorMode=e})},null,512),[[p,o.selectColorMode]]),b(" "+c(e.Resource.mix),1)]),u("label",H,[i(u("input",{type:"radio",value:"replace","onUpdate:modelValue":l[6]||(l[6]=function(e){return o.selectColorMode=e})},null,512),[[p,o.selectColorMode]]),b(" "+c(e.Resource.replace),1)])])]),u("div",q,[u("label",G,c(e.Resource.bottomAltitude),1),u(g,{modelValue:o.bottomAltitude,"onUpdate:modelValue":l[7]||(l[7]=function(e){return o.bottomAltitude=e}),min:0,step:1,max:1e3,"input-size":"mini",debounce:1e3,"tooltip-class":"tooltip-class",style:{width:"63%"}},null,8,["modelValue"])]),u("div",I,[Q,u(g,{modelValue:o.LODScale,"onUpdate:modelValue":l[8]||(l[8]=function(e){return o.LODScale=e}),min:0,max:10,step:.5,"input-size":"mini",debounce:500,"tooltip-class":"tooltip-class",style:{width:"63%"}},null,8,["modelValue","step"])]),u("div",J,[u("label",K,c(e.Resource.layerTrans),1),u(g,{modelValue:o.layerTrans,"onUpdate:modelValue":l[9]||(l[9]=function(e){return o.layerTrans=e}),min:0,max:1,step:.01,"input-size":"mini",debounce:500,"tooltip-class":"tooltip-class",style:{width:"63%"}},null,8,["modelValue","step"])]),u("div",X,[u("label",Y,c(e.Resource.fillStyle),1),i(u("select",{class:"sm-select",style:{width:"63%"},"onUpdate:modelValue":l[10]||(l[10]=function(e){return o.fillStyle=e})},[u("option",Z,c(e.Resource.fillMode),1),u("option",$,c(e.Resource.lineMode),1),u("option",ee,c(e.Resource.fillAndLine),1)],512),[[y,o.fillStyle]])]),u("div",le,[u("label",te,c(e.Resource.visibleDistanceMin),1),i(u("input",{type:"number",class:"sm-input",style:{width:"63%"},"onUpdate:modelValue":l[11]||(l[11]=function(e){return o.visibleDistanceMin=e})},null,512),[[h,o.visibleDistanceMin]])]),u("div",oe,[u("label",re,c(e.Resource.visibleDistanceMax),1),i(u("input",{type:"number",class:"sm-input",style:{width:"63%"},"onUpdate:modelValue":l[12]||(l[12]=function(e){return o.visibleDistanceMax=e})},null,512),[[h,o.visibleDistanceMax]])])],512),[[S]])],512)),[[D]])},O.__file="src/components/layer/s3mlayer-style/s3mlayer-style.vue",O.install=function(e){e.component(O.name,O)};export default O;
