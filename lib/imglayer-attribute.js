import{reactive as e,toRefs as t,watch as r,onBeforeUnmount as a,resolveComponent as n,resolveDirective as o,withDirectives as l,openBlock as s,createBlock as i,createVNode as u,toDisplayString as c,Fragment as m,renderList as p,vShow as d,vModelSelect as y}from"vue";function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}var b=e({isViewer:!1,changeLayers:0,changeGeometrys:0});var g,w,v={errorMsg:function(e){console.log("error",e),alert("error："+e)},warnMsg:function(e){console.log("warn",e)},successMsg:function(e){console.log("success",e)}},N={showRenderLoopErrors:"渲染时发生错误，已停止渲染。",AttributeError:"该组件props没有这个属性：",NoPickPositionSupported:"不支持深度纹理,无法绘制多边形，地形操作功能无法使用！",NoTerrain:"请在地形里使用地形组件！",initViewerWarn:"请先初始化viewer!",MoveMouseHeightBox:"点击鼠标左键结束矩形绘制，移动鼠标绘制box高度",RightClickEndDrawing:"右键单击结束绘制",LeftClickBottomBox:"点击鼠标左键，开始绘制矩形作为box底面",ClickModelAddBox:"点击模型，添加裁剪盒子",SkyLineWarn:"获取天际线体前，请先绘制天际线！",SkyLineBody:"天际线体",ShadowqueryWarn:"此操作需要先开启阴影！",VeiwshedBody:"可视体",VeiwshedBodyHidden:"不可视体",EchartsErr:"二维显示需要echarts支持，未找到相关依赖！",BaseMapImg:"底图",tip1:"<p>点击左键确定操作区域中间点</p><p>右键单击结束绘制</p>"},L=(w=(navigator.language||navigator.browserLanguage).toLowerCase(),window.lang=w,w).toLowerCase();var V=((g=void 0!==L?L:(navigator.language||navigator.browserLanguage).toLowerCase()).startsWith("zh")||g.startsWith("ja"),N);function C(n){var o,l,s=e({layerNames:[],selectedLayerName:"none",brightness:1,contrast:1,hue:0,saturation:1,gamma:1,alpha:1,transparentBackColor:"#eecccc",transparentBackColorTolerance:0});if(n)for(var i in n)s.hasOwnProperty(i)?s[i]=n[i]:v.errorMsg(V.AttributeError+i);function u(){viewer.scene,(o=viewer.imageryLayers._layers)&&o.length>1&&(o.forEach((function(e,t){var r=e._imageryProvider instanceof SuperMap3D.MvtProviderGL;if(0===t||r)return!0;s.layerNames.includes(e._imageryProvider.tablename)||s.layerNames.push(e._imageryProvider.tablename)})),(s.selectedLayerName="none")&&(s.selectedLayerName=s.layerNames[0],l=o[1]))}return b.isViewer&&u(),r((function(){return b.isViewer}),(function(e){e&&u()})),r((function(){return b.changeLayers}),(function(e){u()})),a((function(){o=null})),r((function(){return s.selectedLayerName}),(function(e){var t=s.layerNames.indexOf(e);-1!=t&&(l=o[t+1])})),r((function(){return s.brightness}),(function(e){l&&(l.brightness=Number(e))})),r((function(){return s.contrast}),(function(e){l&&(l.contrast=Number(e))})),r((function(){return s.hue}),(function(e){l&&(l.hue=Number(e))})),r((function(){return s.saturation}),(function(e){l&&(l.saturation=Number(e))})),r((function(){return s.gamma}),(function(e){l&&(l.gamma=Number(e))})),r((function(){return s.alpha}),(function(e){l&&(l.alpha=Number(e))})),r((function(){return s.transparentBackColor}),(function(e){var t=SuperMap3D.Color.fromCssColorString(e);l&&(l.transparentBackColor=t)})),r((function(){return s.transparentBackColorTolerance}),(function(e){l&&(l.transparentBackColorTolerance=Number(e))})),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t(s))}var k={name:"Sm3dImglayerAttribute",props:{selectedLayerName:{type:String},brightness:{type:Number},contrast:{type:Number},hue:{type:Number},saturation:{type:Number},gamma:{type:Number},alpha:{type:Number},transparentBackColor:{type:String},transparentBackColorTolerance:{type:Number}},setup:function(e){var t=C(e);return{layerNames:t.layerNames,selectedLayerName:t.selectedLayerName,brightness:t.brightness,contrast:t.contrast,hue:t.hue,saturation:t.saturation,gamma:t.gamma,alpha:t.alpha,transparentBackColor:t.transparentBackColor,transparentBackColorTolerance:t.transparentBackColorTolerance}}},B={id:"s3mlayer-attribute-panel",class:"sm-panel"},O={class:"sm-function-module-sub-section",style:{margin:"0"}},P={class:"sm-half-L"},x={style:{width:"35%"}},j={class:"sm-half-L"},R={style:{width:"35%"}},S={class:"sm-half-L"},M={style:{width:"35%"}},T={class:"sm-half-L"},z={style:{width:"35%"}},E={class:"sm-half-L"},U={style:{width:"35%"}},D={class:"sm-half-L"},_={style:{width:"35%"}},W={class:"sm-half-L"},A={style:{width:"35%"}},I={class:"sm-half-L"},G={style:{width:"35%"}},H={class:"sm-half-L"},q={style:{width:"35%"}};k.render=function(e,t,r,a,f,h){var b=n("el-slider"),g=n("el-color-picker"),w=o("stopdrag"),v=o("drag");return l((s(),i("div",B,[l(u("div",O,[u("div",P,[u("label",x,c(e.Resource.selectedLayer),1),l(u("select",{class:"sm-select",style:{width:"63%"},"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.selectedLayerName=e})},[(s(!0),i(m,null,p(a.layerNames,(function(e,t){return s(),i("option",{key:t,value:e},c(e),9,["value"])})),128)),l(u("option",{value:"none"},c(e.Resource.noImgLayer),513),[[d,0==a.layerNames.length]])],512),[[y,a.selectedLayerName]])]),u("div",j,[u("label",R,c(e.Resource.brightness),1),u(b,{modelValue:a.brightness,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.brightness=e}),min:0,max:3,step:.05,"input-size":"mini",debounce:500,"tooltip-class":"tooltip-class",style:{width:"63%"}},null,8,["modelValue","step"])]),u("div",S,[u("label",M,c(e.Resource.contrast),1),u(b,{modelValue:a.contrast,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.contrast=e}),min:0,max:3,step:.05,"input-size":"mini",debounce:500,"tooltip-class":"tooltip-class",style:{width:"63%"}},null,8,["modelValue","step"])]),u("div",T,[u("label",z,c(e.Resource.hue),1),u(b,{modelValue:a.hue,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.hue=e}),min:0,max:3,step:.05,"input-size":"mini",debounce:500,"tooltip-class":"tooltip-class",style:{width:"63%"}},null,8,["modelValue","step"])]),u("div",E,[u("label",U,c(e.Resource.saturation),1),u(b,{modelValue:a.saturation,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.saturation=e}),min:0,max:3,step:.05,"input-size":"mini",debounce:500,"tooltip-class":"tooltip-class",style:{width:"63%"}},null,8,["modelValue","step"])]),u("div",D,[u("label",_,c(e.Resource.gamma),1),u(b,{modelValue:a.gamma,"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.gamma=e}),min:0,max:3,step:.05,"input-size":"mini",debounce:500,"tooltip-class":"tooltip-class",style:{width:"63%"}},null,8,["modelValue","step"])]),u("div",W,[u("label",A,c(e.Resource.alpha),1),u(b,{modelValue:a.alpha,"onUpdate:modelValue":t[7]||(t[7]=function(e){return a.alpha=e}),min:0,max:1,step:.01,"input-size":"mini",debounce:500,"tooltip-class":"tooltip-class",style:{width:"63%"}},null,8,["modelValue","step"])]),u("div",I,[u("label",G,c(e.Resource.transparentColor),1),u(g,{modelValue:a.transparentBackColor,"onUpdate:modelValue":t[8]||(t[8]=function(e){return a.transparentBackColor=e}),size:"mini",style:{width:"63%"}},null,8,["modelValue"])]),u("div",H,[u("label",q,c(e.Resource.transparentColorTolerance),1),u(b,{modelValue:a.transparentBackColorTolerance,"onUpdate:modelValue":t[9]||(t[9]=function(e){return a.transparentBackColorTolerance=e}),min:0,max:1,step:.01,"input-size":"mini",debounce:500,"tooltip-class":"tooltip-class",style:{width:"63%"}},null,8,["modelValue","step"])])],512),[[w]])],512)),[[v]])},k.__file="src/components/layer/imglayer-attribute/imglayer-attribute.vue",k.install=function(e){e.component(k.name,k)};export default k;
