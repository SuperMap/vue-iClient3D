import{reactive as e,toRefs as o,watch as i,onBeforeUnmount as t,resolveComponent as r,resolveDirective as n,withDirectives as a,openBlock as l,createBlock as s,createVNode as d,toDisplayString as u,vShow as p,vModelCheckbox as c,createTextVNode as y}from"vue";function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,o,i){return o in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i,e}function m(e,o){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);o&&(t=t.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),i.push.apply(i,t)}return i}function w(e){for(var o=1;o<arguments.length;o++){var i=null!=arguments[o]?arguments[o]:{};o%2?m(Object(i),!0).forEach((function(o){v(e,o,i[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(i,o))}))}return e}function f(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,o){if(!e)return;if("string"==typeof e)return b(e,o);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return b(e,o)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,o){(null==o||o>e.length)&&(o=e.length);for(var i=0,t=new Array(o);i<o;i++)t[i]=e[i];return t}var g=function(e){for(var o=[].concat(e),i=[],t=0,r=o.length;t<r;t++){var n=SuperMap3D.Cartographic.fromCartesian(o[t]),a=SuperMap3D.Math.toDegrees(n.longitude),l=SuperMap3D.Math.toDegrees(n.latitude),s=n.height;-1==i.indexOf(a)&&-1==i.indexOf(l)&&(i.push(a),i.push(l),i.push(s))}return i};var C,S,M={Message:{errorMsg:function(e){console.log("error",e),alert("error："+e)},warnMsg:function(e){console.log("warn",e)},successMsg:function(e){console.log("success",e)}},axiosJsonp:function(e){if(e)return new Promise((function(o,i){window.jsonCallBack=function(e){o(e)};var t=document.createElement("script");t.type="text/javascript",t.src="".concat(e,"&callback=jsonCallBack"),document.getElementsByTagName("head")[0].appendChild(t),setTimeout((function(){document.getElementsByTagName("head")[0].removeChild(t)}),500)}));console.error("Axios.JSONP 至少需要一个url参数!")},isEqualArr:function(e,o){if(!e||!o)return!0;var i=!0;if(Object.keys(e).length!=Object.keys(o).length)return!1;for(var t in e)if("object"==h(e[t])){if(!(i=isSame(e[t],o[t])))break}else if(e[t]!=o[t]){i=!1;break}return i},CartesiantoDegrees:g,CartesiantoDegreesObjs:function(e){for(var o=[].concat(e),i=[],t=0,r=o.length;t<r;t++){var n=SuperMap3D.Cartographic.fromCartesian(o[t]),a={longitude:SuperMap3D.Math.toDegrees(n.longitude),latitude:SuperMap3D.Math.toDegrees(n.latitude),height:n.height};i.push(a)}return i},unique:function(e){for(var o=[],i={},t=0;t<e.length;t++)i[e[t]]||(o.push(e[t]),i[e[t]]=1);return o},gradientColors:function(e,o,i,t){var r,n,a,l,s=[],d=[];t=t||1;var u,p=function(e){return Math.pow(e/255,t)};for(e=c(e).map(p),o=c(o).map(p),r=0;r<i;r++){for(l=1-(a=r/(i-1)),n=0;n<3;n++)d[n]=1===(u=Math.round(255*Math.pow(e[n]*l+o[n]*a,1/t)).toString(16)).length?"0"+u:u;s.push("#"+d.join(""))}return s;function c(e){return 4===e.length?e.substr(1).split("").map((function(e){return 17*parseInt(e,16)})):[e.substr(1,2),e.substr(3,2),e.substr(5,2)].map((function(e){return parseInt(e,16)}))}},getAngleAndRadian:function(e,o){var i=SuperMap3D.Transforms.eastNorthUpToFixedFrame(e),t=SuperMap3D.Cartesian3.subtract(o,e,new SuperMap3D.Cartesian3),r=SuperMap3D.Matrix4.multiplyByPointAsVector(SuperMap3D.Matrix4.inverse(i,new SuperMap3D.Matrix4),t,new SuperMap3D.Cartesian3),n=SuperMap3D.Cartesian3.normalize(r,new SuperMap3D.Cartesian3),a=Math.atan2(n.y,n.x)-SuperMap3D.Math.PI_OVER_TWO,l=SuperMap3D.Math.TWO_PI-SuperMap3D.Math.zeroToTwoPi(a),s=l*(180/Math.PI);return s<0&&(s+=360),{angle:s,radian:l}},CartographictoDegrees:function(e){return[SuperMap3D.Math.toDegrees(e.longitude),SuperMap3D.Math.toDegrees(e.latitude),e.height]},getPitch:function(e,o){var i=SuperMap3D.Transforms.eastNorthUpToFixedFrame(e),t=SuperMap3D.Cartesian3.subtract(o,e,new SuperMap3D.Cartesian3),r=SuperMap3D.Matrix4.multiplyByPointAsVector(SuperMap3D.Matrix4.inverse(i,i),t,t);SuperMap3D.Cartesian3.normalize(r,r);var n=SuperMap3D.Math.PI_OVER_TWO-SuperMap3D.Math.acosClamped(r.z),a=n*(180/Math.PI);return a<0&&(a+=360),{angle:a,radian:n}}},D={showRenderLoopErrors:"渲染时发生错误，已停止渲染。",AttributeError:"该组件props没有这个属性：",NoPickPositionSupported:"不支持深度纹理,无法绘制多边形，地形操作功能无法使用！",NoTerrain:"请在地形里使用地形组件！",initViewerWarn:"请先初始化viewer!",MoveMouseHeightBox:"点击鼠标左键结束矩形绘制，移动鼠标绘制box高度",RightClickEndDrawing:"右键单击结束绘制",LeftClickBottomBox:"点击鼠标左键，开始绘制矩形作为box底面",ClickModelAddBox:"点击模型，添加裁剪盒子",SkyLineWarn:"获取天际线体前，请先绘制天际线！",SkyLineBody:"天际线体",ShadowqueryWarn:"此操作需要先开启阴影！",VeiwshedBody:"可视体",VeiwshedBodyHidden:"不可视体",EchartsErr:"二维显示需要echarts支持，未找到相关依赖！",BaseMapImg:"底图",tip1:"<p>点击左键确定操作区域中间点</p><p>右键单击结束绘制</p>"},B=(S=(navigator.language||navigator.browserLanguage).toLowerCase(),window.lang=S,S).toLowerCase();var A=((C=void 0!==B?B:(navigator.language||navigator.browserLanguage).toLowerCase()).startsWith("zh")||C.startsWith("ja"),D),V=e({isViewer:!1,changeLayers:0,changeGeometrys:0}),L=function(e){V.changeGeometrys+=1,console.log(P.geometrys)},P={geometrys:{},layers:null};var I=function(e,o){var i=0;switch(o&&(i=o),e){case"Point":window.handlerPoint=new SuperMap3D.DrawHandler(viewer,SuperMap3D.DrawMode.Point);break;case"Polyline":window.handlerPolyline=new SuperMap3D.DrawHandler(viewer,SuperMap3D.DrawMode.Line,i);break;case"Polygon":window.handlerPolygon=new SuperMap3D.DrawHandler(viewer,SuperMap3D.DrawMode.Polygon,i);break;case"Marker":window.handlerMarker=new SuperMap3D.DrawHandler(viewer,SuperMap3D.DrawMode.Marker,i);break;case"Box":window.handlerBox=new SuperMap3D.DrawHandler(viewer,SuperMap3D.DrawMode.Box,i)}window.tooltip||(window.tooltip=function(e){var o=function(e){var o=document.createElement("DIV");o.className="twipsy right";var i=document.createElement("DIV");i.className="twipsy-arrow",o.appendChild(i);var t=document.createElement("DIV");t.className="twipsy-inner",o.appendChild(t),this._div=o,this._title=t,this.message="",e.appendChild(o);var r=this;o.onmousemove=function(e){r.showAt({x:e.clientX,y:e.clientY},r.message)}};return o.prototype.setVisible=function(e){this._div.style.display=e?"block":"none"},o.prototype.showAt=function(e,o){e&&o&&(this.setVisible(!0),this._title.innerHTML=o,this._div.style.left=e.x+10+"px",this._div.style.top=e.y-this._div.clientHeight/2+"px",this.message=o)},new o(e)}(viewer._element)),window.polylineCollection||(window.polylineCollection=new SuperMap3D.PolylineCollection({translucentRS:SuperMap3D.RenderState.fromCache({depthMask:!1,depthTest:{enabled:!1}})}),window.polylineTransparent=window.polylineCollection.add({width:2,material:SuperMap3D.Material.fromType(SuperMap3D.Material.ColorType,{color:SuperMap3D.Color.fromCssColorString("#51ff00").withAlpha(.3)})}),viewer.scene.primitives.add(window.polylineCollection))},x=function(e){var o;switch(e){case"Point":o=window.handlerPoint;break;case"Polyline":o=window.handlerPolyline;break;case"Polygon":o=window.handlerPolygon;break;case"Marker":o=window.handlerMarker;break;case"Box":o=window.handlerBox}return o};function E(e){var o=function(e){var o=document.createElement("DIV");o.className="tooltip",this._div=o,this.message="",e.appendChild(o)};return o.prototype.setVisible=function(e){this._div.style.right=e?"10px":"-300px"},o.prototype.showAt=function(e,o){o&&(this._div.style.top=o),e&&(this.setVisible(!0),this._div.innerHTML=e)},new o(e)}function O(r){var n,a,l,s,d,u=e({viewshedSpatialUrl:"http://www.supermapol.com/realspace/services/spatialAnalysis-data_all/restjsr/spatialanalyst/geometry/3d/viewshedbody.json",observerInformation:null,direction:1,pitch:1,addheight:1.8,distance:200,verticalFov:60,horizontalFov:90,hintLineColor:"rgb(212,202,45)",visibleAreaColor:"rgba(9,199,112,0.5)",hiddenAreaColor:"rgba(238,114,22,0.5)",visibleBodyColor:"rgba(9,199,112,0.7)",invisibleBodyColor:"rgba(238,114,22,0.7)",visibleBody:!1,invisibleBody:!1,viewshedAnimation:!1,DynamicLine:[],DynamicSpeed:10});if(r)for(var p in r)u.hasOwnProperty(p)?u[p]=r[p]:M.Message.errorMsg(A.AttributeError+p);var c,y,h=!0,v=["public/data/s3m/car1.s3m"];function m(){console.log("可视域分析"),s=viewer.scene,n=new SuperMap3D.ViewShed3D(s),a=new SuperMap3D.ScreenSpaceEventHandler(s.canvas),n.hintLineColor=SuperMap3D.Color.fromCssColorString(u.hintLineColor),n.visibleAreaColor=SuperMap3D.Color.fromCssColorString(u.visibleAreaColor),n.hiddenAreaColor=SuperMap3D.Color.fromCssColorString(u.hiddenAreaColor),l=new SuperMap3D.S3MInstanceCollection(s._context),viewer.scene.primitives.add(l),(y=new SuperMap3D.DynamicLayer3D(s.context,v)).updateInterval=100,y.setCullEnabled(v[0],SuperMap3D.CullFace.BACK),y.maxVisibleAltitude=2e3,y.minVisibleAltitude=0,s.primitives.add(y)}V.isViewer&&(window.tooltip||(window.tooltip=E(viewer._element)),m()),i((function(){return V.isViewer}),(function(e){e&&(window.tooltip||(window.tooltip=E(viewer._element)),m())}));var b=null;function C(e){switch(e){case"LEFT_CLICK":a.removeInputAction(SuperMap3D.ScreenSpaceEventType.LEFT_CLICK);break;case"MOUSE_MOVE":a.removeInputAction(SuperMap3D.ScreenSpaceEventType.MOUSE_MOVE);break;case"RIGHT_CLICK":a.removeInputAction(SuperMap3D.ScreenSpaceEventType.RIGHT_CLICK);break;case"ALL":default:a.removeInputAction(SuperMap3D.ScreenSpaceEventType.LEFT_CLICK),a.removeInputAction(SuperMap3D.ScreenSpaceEventType.MOUSE_MOVE),a.removeInputAction(SuperMap3D.ScreenSpaceEventType.RIGHT_CLICK)}}function S(){var e=n.getViewshedParameter(),o={viewerPoint:e.viewPosition,point3DsList:e.point3DList,radius:e.distance,lonlat:!0,viewShedType:"VISIBLEBODY"},i=JSON.stringify(o),t=SuperMap3D.Color.fromCssColorString(u.visibleBodyColor);window.axios.post(u.viewshedSpatialUrl,i).then((function(e){window.axios.get(e.data.newResourceLocation+".json").then((function(e){var o=e.data;if(null!=o.geometry){var i=new Uint8Array(o.geometry.model).buffer;l.add("VeiwshedBody",{id:1,position:SuperMap3D.Cartesian3.fromDegrees(o.geometry.position.x,o.geometry.position.y,o.geometry.position.z),hpr:new SuperMap3D.HeadingPitchRoll(0,0,0),color:t},i,!1),o.geometry.model=[4,0,0,0].concat(o.geometry.model),n.visibleAreaColor=SuperMap3D.Color.fromCssColorString("rgba(0,0,0,0)"),n.hiddenAreaColor=SuperMap3D.Color.fromCssColorString("rgba(0,0,0,0)"),o.geometry.name=A.VeiwshedBody,P.geometrys.VeiwshedBody=o.geometry,L()}else M.Message.errorMsg("获取geometry失败")})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}function D(){var e=n.getViewshedParameter(),o={viewerPoint:e.viewPosition,point3DsList:e.point3DList,radius:e.distance,lonlat:!0,viewShedType:"HIDDENBODY"},i=JSON.stringify(o),t=SuperMap3D.Color.fromCssColorString(u.invisibleBodyColor);window.axios.post(u.viewshedSpatialUrl,i).then((function(e){window.axios.get(e.data.newResourceLocation+".json").then((function(e){var o=e.data;if(null!=o.geometry){var i=new Uint8Array(o.geometry.model).buffer;l.add("VeiwshedBodyHidden",{id:1,position:SuperMap3D.Cartesian3.fromDegrees(o.geometry.position.x,o.geometry.position.y,o.geometry.position.z),hpr:new SuperMap3D.HeadingPitchRoll(0,0,0),color:t},i,!1),o.geometry.model=[4,0,0,0].concat(o.geometry.model),n.visibleAreaColor=SuperMap3D.Color.fromCssColorString("rgba(0,0,0,0)"),n.hiddenAreaColor=SuperMap3D.Color.fromCssColorString("rgba(0,0,0,0)"),o.geometry.name=A.VeiwshedBodyHidden,P.geometrys.VeiwshedBodyHidden=o.geometry,L()}else M.Message.errorMsg("获取geometry失败")})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}function B(){var e,o;O(),y.clearState(v[0],[1]),clearInterval(c),c=null,u.viewshedAnimation=!1,(o=(e="Polyline")?x(e):window.handlerPolygon)&&(o.deactivate(),o.clear(),viewer.enableCursorStyle=!0,window.tooltip.setVisible(!1),window.polylineTransparent&&(window.polylineTransparent.show=!1))}function O(){tooltip.setVisible(!1),viewer.entities.removeById("viewshedPoint"),document.body.classList.remove("measureCur"),n.distance=1e-5,n.viewPosition=[0,0,0],u.visibleBody=!1,u.invisibleBody=!1,u.observerInformation=null}function T(){n.distance=u.distance,n.build();for(var e=u.DynamicLine,o=[],i=1,t=e.length;i<t;i++)for(var r=e[i-1],a=e[i],l=SuperMap3D.Cartesian3.distance(r,a),s=parseInt(l/(.05*u.DynamicSpeed))+1,d=1,p=s;d<=p;d++)o.push(SuperMap3D.Cartesian3.lerp(r,a,d/s,new SuperMap3D.Cartesian3));var h=M.CartesiantoDegreesObjs(o),m=new SuperMap3D.DynamicObjectState({id:1,longitude:h[0].longitude,latitude:h[0].latitude,altitude:h[0].height,scale:new SuperMap3D.Cartesian3(1,1,1)});y.updateObjectWithModel(v[0],[m]);var w=1;c=setInterval((function(){if(w>=h.length)clearInterval(c);else{m.longitude=h[w].longitude,m.latitude=h[w].latitude,m.altitude=h[w].height,y.updateObjectWithModel(v[0],[m]);var e=M.getAngleAndRadian(o[w-1],o[w]);n.direction=e.angle,n.viewPosition=[m.longitude,m.latitude,m.altitude+Number(u.addheight)],w+=1}}),50)}function _(e){if(""!=e)return SuperMap3D.Color.fromCssColorString(e)}return i((function(){return u.visibleBody}),(function(e){e&&u.observerInformation?S():(l.removeCollection("VeiwshedBody"),u.invisibleBody||(n.visibleAreaColor=SuperMap3D.Color.fromCssColorString(u.visibleAreaColor),n.hiddenAreaColor=SuperMap3D.Color.fromCssColorString(u.hiddenAreaColor)),P.geometrys.VeiwshedBody&&(delete P.geometrys.VeiwshedBody,L()))})),i((function(){return u.invisibleBody}),(function(e){e&&u.observerInformation?D():(l.removeCollection("VeiwshedBodyHidden"),u.visibleBody||(n.visibleAreaColor=SuperMap3D.Color.fromCssColorString(u.visibleAreaColor),n.hiddenAreaColor=SuperMap3D.Color.fromCssColorString(u.hiddenAreaColor)),P.geometrys.VeiwshedBodyHidden&&(delete P.geometrys.VeiwshedBodyHidden,L()))})),i((function(){return u.addheight}),(function(e){(""===e||e<0)&&(e=0),u.observerInformation&&(u.observerInformation[2]=b+parseFloat(e),n.viewPosition=u.observerInformation)})),i((function(){return u.pitch}),(function(e){(""===e||e<0)&&(e=0),n.pitch=parseFloat(e)})),i((function(){return u.direction}),(function(e){(""===e||e<0)&&(e=0),n.direction=parseFloat(e)})),i((function(){return u.distance}),(function(e){(""===e||e<0)&&(e=0),n.distance=parseFloat(e)})),i((function(){return u.verticalFov}),(function(e){(""===e||e<0)&&(e=0),n.verticalFov=parseFloat(e)})),i((function(){return u.horizontalFov}),(function(e){(""===e||e<0)&&(e=0),n.horizontalFov=parseFloat(e)})),i((function(){return u.hintLineColor}),(function(e){n.hintLineColor=_(e)})),i((function(){return u.visibleAreaColor}),(function(e){n.visibleAreaColor=_(e)})),i((function(){return u.visibleBodyColor}),(function(e){l.getInstance("VeiwshedBody",1).updateColor(_(e))})),i((function(){return u.hiddenAreaColor}),(function(e){n.hiddenAreaColor=_(e)})),i((function(){return u.invisibleBodyColor}),(function(e){l.getInstance("VeiwshedBodyHidden",1).updateColor(_(e))})),i((function(){return u.viewshedAnimation}),(function(e){e?(O(),tooltip.showAt("<p>点击分析按钮激活事件</p><p>点击鼠标左键确认模型移动路线</p><p>单击右键结束分析</p>","450px"),setTimeout((function(){tooltip.setVisible(!1)}),3e3)):B()})),t((function(){B(),l.destroy(),n.destroy(),a.destroy(),DynamicLayer3D.destroy(),n=void 0,a=void 0,l=void 0})),w(w({},o(u)),{},{analysis:function(){viewer.enableCursorStyle=!1,viewer._element.style.cursor="",document.body.classList.add("measureCur"),u.viewshedAnimation?(c&&(B(),u.viewshedAnimation=!0,document.body.classList.add("measureCur")),function(){window.handlerPolyline||I("Polyline");if(r.DynamicLine)return void T();(function(e,o,i){var t=!0;!1===o&&(t=o);var r=x(e);return new Promise((function(o,i){var n=window.tooltip,a=r.activeEvt.addEventListener((function(o){1==o?(viewer.enableCursorStyle=!1,viewer._element.style.cursor="","Point"==e||"Marker"==e?document.body.classList.add("measureCur"):document.body.classList.add("drawCur")):(viewer.enableCursorStyle=!0,n.setVisible(!1),"Point"==e||"Marker"==e?document.body.classList.remove("measureCur"):document.body.classList.remove("drawCur"))})),l=r.movingEvt.addEventListener((function(o){if(o.x<200&&o.y<150)n.setVisible(!1);else if(r.polyline&&r.isDrawing){var i=f(r.positions);"Polygon"==e&&i.push(i[0]),window.polylineTransparent.show=!0,window.polylineTransparent.positions=i}})),s=r.drawEvt.addEventListener((function(i){if(!i.object.positions&&"Point"!=e&&"Box"!=e)return n.showAt(i,"<p>请绘制正确的多边形</p>"),r.polygon.show=!1,r.polyline.show=!1,r.deactivate(),void r.activate();if("Box"!=e){if("Point"==e||"Marker"==e)r.clear(),o({result:i});else{if(window.polylineTransparent.show=t,t&&"Polygon"==e&&t){r.polygon._polygon._material._color._value.alpha=.1;var d=f(i.object.positions);d.push(d[0]),window.polylineTransparent.positions=d}var u=g(i.object.positions);o({result:i,positions:u})}a(),l(),s()}else o({result:i})}))}))})("Polyline",SuperMap3D.ClampMode.Ground).then((function(e){var o=window.handlerPolyline;o.polyline.show=!1,window.polylineTransparent.show=!0,o.deactivate(),u.DynamicLine=e.result.object.positions,tooltip.setVisible(!1),u.DynamicLine.length<2?M.Message.warnMsg("至少需要两个点！"):T()}),(function(e){console.log(e)})),window.handlerPolyline.activate()}()):(h&&(window.tooltip.showAt(" <p>点击鼠标左键确认观察者位置</p> <p>右键单击结束分析</p>","450px"),h=!1),l.removeCollection("VeiwshedBody"),l.removeCollection("VeiwshedBodyHidden"),n.distance=1e-5,n.visibleAreaColor=SuperMap3D.Color.fromCssColorString(u.visibleAreaColor),n.hiddenAreaColor=SuperMap3D.Color.fromCssColorString(u.hiddenAreaColor),a.setInputAction((function(e){b=null;var o=s.pickPosition(e.position);d=o;var i=M.CartesiantoDegrees(o);b=i[2],i[2]+=Number(u.addheight),n.viewPosition=i,n.build(),u.observerInformation=i,document.body.classList.remove("measureCur"),C("LEFT_CLICK"),a.setInputAction((function(e){var o=e.endPosition,i=s.pickPosition(o);if(SuperMap3D.Cartesian3.distance(d,i)>0){var t=M.CartesiantoDegrees(i);n.setDistDirByPoint(t)}}),SuperMap3D.ScreenSpaceEventType.MOUSE_MOVE),a.setInputAction((function(e){u.direction=n.direction.toFixed(2),u.pitch=n.pitch.toFixed(2),u.distance=n.distance.toFixed(2),u.horizontalFov=n.horizontalFov,u.verticalFov=n.verticalFov,u.visibleBody&&S(),u.invisibleBody&&D(),tooltip.setVisible(!1),C("MOUSE_MOVE"),C("RIGHT_CLICK")}),SuperMap3D.ScreenSpaceEventType.RIGHT_CLICK),function(e){viewer.entities.removeById("viewshedPoint"),viewer.entities.add(new SuperMap3D.Entity({id:"viewshedPoint",point:new SuperMap3D.PointGraphics({color:_(u.hiddenAreaColor),pixelSize:8}),position:e}))}(SuperMap3D.Cartesian3.fromDegrees(i[0],i[1],i[2]))}),SuperMap3D.ScreenSpaceEventType.LEFT_CLICK))},clear:B})}var T={name:"Sm3dViewshed",props:{viewshedSpatialUrl:{type:String},observerInformation:{type:Object},direction:{type:Number},pitch:{type:Number},addheight:{type:Number},distance:{type:Number},verticalFov:{type:Number},horizontalFov:{type:Number},hintLineColor:{type:String},visibleAreaColor:{type:String},hiddenAreaColor:{type:String},visibleBodyColor:{type:String},invisibleBodyColor:{type:String},visibleBody:{type:Boolean},invisibleBody:{type:Boolean},viewshedAnimation:{type:Boolean},DynamicLine:{type:Array},DynamicSpeed:{type:Number}},setup:function(e){var o=O(e),i=o.visibleBody,t=o.invisibleBody,r=o.viewshedAnimation,n=o.analysis,a=o.clear;return{addheight:o.addheight,verticalFov:o.verticalFov,horizontalFov:o.horizontalFov,hintLineColor:o.hintLineColor,visibleAreaColor:o.visibleAreaColor,hiddenAreaColor:o.hiddenAreaColor,visibleBodyColor:o.visibleBodyColor,invisibleBodyColor:o.invisibleBodyColor,visibleBody:i,invisibleBody:t,viewshedAnimation:r,analysis:n,clear:a}}},_={id:"viewshed",class:"sm-panel"},k={class:"sm-function-module-sub-section",style:{margin:"0"}},F={class:"sm-half-L"},j={style:{width:"35%"}},R={class:"sm-half-L"},z={style:{width:"35%"}},H={class:"sm-half-L"},U={style:{width:"35%"}},N={class:"sm-half-L"},K={style:{width:"35%"}},W={class:"sm-half-L"},G={style:{width:"35%"}},J={class:"sm-half-L"},q={style:{width:"35%"}},Y={class:"sm-half-L"},X={style:{width:"35%"}},$={class:"sm-half-L"},Q={style:{width:"35%"}},Z={class:"sm-half-L"},ee={style:{width:"auto"}},oe={style:{width:"auto"}},ie={style:{width:"auto"}},te={class:"boxchild"};T.render=function(e,o,i,t,h,v){var m=r("el-slider"),w=r("el-color-picker"),f=n("stopdrag"),b=n("drag");return a((l(),s("div",_,[a(d("div",k,[d("div",F,[d("label",j,u(e.Resource.addheight),1),d(m,{modelValue:t.addheight,"onUpdate:modelValue":o[1]||(o[1]=function(e){return t.addheight=e}),min:1,step:.1,max:10,"input-size":"mini",debounce:500,"tooltip-class":"tooltip-class",style:{width:"63%"}},null,8,["modelValue","step"])]),d("div",R,[d("label",z,u(e.Resource.verticalFov),1),d(m,{modelValue:t.verticalFov,"onUpdate:modelValue":o[2]||(o[2]=function(e){return t.verticalFov=e}),min:1,max:179,"input-size":"mini",debounce:500,"tooltip-class":"tooltip-class",style:{width:"63%"}},null,8,["modelValue"])]),d("div",H,[d("label",U,u(e.Resource.horizontalFov),1),d(m,{modelValue:t.horizontalFov,"onUpdate:modelValue":o[3]||(o[3]=function(e){return t.horizontalFov=e}),min:1,max:179,"input-size":"mini",debounce:500,"tooltip-class":"tooltip-class",style:{width:"63%"}},null,8,["modelValue"])]),d("div",N,[d("label",K,u(e.Resource.hintLineColor),1),d(w,{modelValue:t.hintLineColor,"onUpdate:modelValue":o[4]||(o[4]=function(e){return t.hintLineColor=e}),size:"mini","show-alpha":"",style:{width:"63%"}},null,8,["modelValue"])]),a(d("div",W,[d("label",G,u(e.Resource.visibleAreaColor),1),d(w,{modelValue:t.visibleAreaColor,"onUpdate:modelValue":o[5]||(o[5]=function(e){return t.visibleAreaColor=e}),size:"mini","show-alpha":"",style:{width:"63%"}},null,8,["modelValue"])],512),[[p,!t.visibleBody&&!t.invisibleBody]]),a(d("div",J,[d("label",q,u(e.Resource.hiddenAreaColor),1),d(w,{modelValue:t.hiddenAreaColor,"onUpdate:modelValue":o[6]||(o[6]=function(e){return t.hiddenAreaColor=e}),size:"mini","show-alpha":"",style:{width:"63%"}},null,8,["modelValue"])],512),[[p,!t.visibleBody&&!t.invisibleBody]]),a(d("div",Y,[d("label",X,u(e.Resource.visibleBodyColor),1),d(w,{modelValue:t.visibleBodyColor,"onUpdate:modelValue":o[7]||(o[7]=function(e){return t.visibleBodyColor=e}),size:"mini","show-alpha":"",style:{width:"63%"}},null,8,["modelValue"])],512),[[p,t.visibleBody]]),a(d("div",$,[d("label",Q,u(e.Resource.invisibleBodyColor),1),d(w,{modelValue:t.invisibleBodyColor,"onUpdate:modelValue":o[8]||(o[8]=function(e){return t.invisibleBodyColor=e}),size:"mini","show-alpha":"",style:{width:"63%"}},null,8,["modelValue"])],512),[[p,t.invisibleBody]]),d("div",Z,[d("label",ee,[a(d("input",{type:"checkbox","onUpdate:modelValue":o[9]||(o[9]=function(e){return t.visibleBody=e})},null,512),[[c,t.visibleBody]]),y(" "+u(e.Resource.displayVisualsBody),1)]),d("label",oe,[a(d("input",{type:"checkbox","onUpdate:modelValue":o[10]||(o[10]=function(e){return t.invisibleBody=e})},null,512),[[c,t.invisibleBody]]),y(" "+u(e.Resource.displayInvisibleBody),1)]),d("label",ie,[a(d("input",{type:"checkbox","onUpdate:modelValue":o[11]||(o[11]=function(e){return t.viewshedAnimation=e})},null,512),[[c,t.viewshedAnimation]]),y(" "+u(e.Resource.viewshedAnimation),1)])]),d("div",te,[d("button",{type:"button",class:"tbtn",onClick:o[12]||(o[12]=function(){return t.analysis&&t.analysis.apply(t,arguments)})},u(e.Resource.analyze),1),d("button",{type:"button",class:"tbtn tbtn-margin-left",onClick:o[13]||(o[13]=function(){return t.clear&&t.clear.apply(t,arguments)})},u(e.Resource.clear),1)])],512),[[f]])],512)),[[b]])},T.__file="src/components/analysis_3d/viewshed/viewshed.vue",T.install=function(e){e.component(T.name,T)};export default T;
