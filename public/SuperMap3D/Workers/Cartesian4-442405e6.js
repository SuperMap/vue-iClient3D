define(["exports","./Math-3024ab74","./when-b60132fc"],(function(n,e,t){"use strict";function r(n,e,r){this.x=t.defaultValue(n,0),this.y=t.defaultValue(e,0),this.z=t.defaultValue(r,0)}r.fromSpherical=function(n,e){t.defined(e)||(e=new r);var a=n.clock,u=n.cone,i=t.defaultValue(n.magnitude,1),o=i*Math.sin(u);return e.x=o*Math.cos(a),e.y=o*Math.sin(a),e.z=i*Math.cos(u),e},r.fromElements=function(n,e,a,u){return t.defined(u)?(u.x=n,u.y=e,u.z=a,u):new r(n,e,a)},r.clone=function(n,e){if(t.defined(n))return t.defined(e)?(e.x=n.x,e.y=n.y,e.z=n.z,e):new r(n.x,n.y,n.z)},r.fromCartesian4=r.clone,r.packedLength=3,r.pack=function(n,e,r){return r=t.defaultValue(r,0),e[r++]=n.x,e[r++]=n.y,e[r]=n.z,e},r.unpack=function(n,e,a){return e=t.defaultValue(e,0),t.defined(a)||(a=new r),a.x=n[e++],a.y=n[e++],a.z=n[e],a},r.packArray=function(n,e){var a=n.length;t.defined(e)?e.length=3*a:e=new Array(3*a);for(var u=0;u<a;++u)r.pack(n[u],e,3*u);return e},r.unpackArray=function(n,e){var a=n.length;t.defined(e)?e.length=a/3:e=new Array(a/3);for(var u=0;u<a;u+=3){var i=u/3;e[i]=r.unpack(n,u,e[i])}return e},r.fromArray=r.unpack,r.maximumComponent=function(n){return Math.max(n.x,n.y,n.z)},r.minimumComponent=function(n){return Math.min(n.x,n.y,n.z)},r.minimumByComponent=function(n,e,t){return t.x=Math.min(n.x,e.x),t.y=Math.min(n.y,e.y),t.z=Math.min(n.z,e.z),t},r.maximumByComponent=function(n,e,t){return t.x=Math.max(n.x,e.x),t.y=Math.max(n.y,e.y),t.z=Math.max(n.z,e.z),t},r.magnitudeSquared=function(n){return n.x*n.x+n.y*n.y+n.z*n.z},r.magnitude=function(n){return Math.sqrt(r.magnitudeSquared(n))};var a=new r;r.distance=function(n,e){return r.subtract(n,e,a),r.magnitude(a)},r.distanceSquared=function(n,e){return r.subtract(n,e,a),r.magnitudeSquared(a)},r.normalize=function(n,e){var t=r.magnitude(n);return e.x=n.x/t,e.y=n.y/t,e.z=n.z/t,e},r.dot=function(n,e){return n.x*e.x+n.y*e.y+n.z*e.z},r.multiplyComponents=function(n,e,t){return t.x=n.x*e.x,t.y=n.y*e.y,t.z=n.z*e.z,t},r.divideComponents=function(n,e,t){return t.x=n.x/e.x,t.y=n.y/e.y,t.z=n.z/e.z,t},r.add=function(n,e,t){return t.x=n.x+e.x,t.y=n.y+e.y,t.z=n.z+e.z,t},r.subtract=function(n,e,t){return t.x=n.x-e.x,t.y=n.y-e.y,t.z=n.z-e.z,t},r.multiplyByScalar=function(n,e,t){return t.x=n.x*e,t.y=n.y*e,t.z=n.z*e,t},r.divideByScalar=function(n,e,t){return t.x=n.x/e,t.y=n.y/e,t.z=n.z/e,t},r.negate=function(n,e){return e.x=-n.x,e.y=-n.y,e.z=-n.z,e},r.abs=function(n,e){return e.x=Math.abs(n.x),e.y=Math.abs(n.y),e.z=Math.abs(n.z),e};var u=new r;r.lerp=function(n,e,t,a){return r.multiplyByScalar(e,t,u),a=r.multiplyByScalar(n,1-t,a),r.add(u,a,a)};var i=new r,o=new r;r.angleBetween=function(n,e){r.normalize(n,i),r.normalize(e,o);var t=r.dot(i,o),a=r.magnitude(r.cross(i,o,i));return Math.atan2(a,t)};var f=new r;r.mostOrthogonalAxis=function(n,e){var t=r.normalize(n,f);return r.abs(t,t),e=t.x<=t.y?t.x<=t.z?r.clone(r.UNIT_X,e):r.clone(r.UNIT_Z,e):t.y<=t.z?r.clone(r.UNIT_Y,e):r.clone(r.UNIT_Z,e)},r.projectVector=function(n,e,t){var a=r.dot(n,e)/r.dot(e,e);return r.multiplyByScalar(e,a,t)},r.equals=function(n,e){return n===e||t.defined(n)&&t.defined(e)&&n.x===e.x&&n.y===e.y&&n.z===e.z},r.equalsArray=function(n,e,t){return n.x===e[t]&&n.y===e[t+1]&&n.z===e[t+2]},r.equalsEpsilon=function(n,r,a,u){return n===r||t.defined(n)&&t.defined(r)&&e.CesiumMath.equalsEpsilon(n.x,r.x,a,u)&&e.CesiumMath.equalsEpsilon(n.y,r.y,a,u)&&e.CesiumMath.equalsEpsilon(n.z,r.z,a,u)},r.cross=function(n,e,t){var r=n.x,a=n.y,u=n.z,i=e.x,o=e.y,f=e.z,y=a*f-u*o,l=u*i-r*f,c=r*o-a*i;return t.x=y,t.y=l,t.z=c,t},r.midpoint=function(n,e,t){return t.x=.5*(n.x+e.x),t.y=.5*(n.y+e.y),t.z=.5*(n.z+e.z),t},r.fromDegrees=function(n,t,a,u,i){return n=e.CesiumMath.toRadians(n),t=e.CesiumMath.toRadians(t),r.fromRadians(n,t,a,u,i)};var y=new r,l=new r,c=new r(40680631590769,40680631590769,40408299984661.445),s=new r(40680631590769,40680631590769,40680631590769);function d(n,e,r,a){this.x=t.defaultValue(n,0),this.y=t.defaultValue(e,0),this.z=t.defaultValue(r,0),this.w=t.defaultValue(a,0)}r.fromRadians=function(n,a,u,i,o){u=t.defaultValue(u,0);var f=t.defined(i)?i.radiiSquared:s;e.CesiumMath.equalsEpsilon(e.CesiumMath.Radius,6356752.314245179,e.CesiumMath.EPSILON10)&&(f=t.defined(i)?i.radiiSquared:c);var d=Math.cos(a);y.x=d*Math.cos(n),y.y=d*Math.sin(n),y.z=Math.sin(a),y=r.normalize(y,y),r.multiplyComponents(f,y,l);var x=Math.sqrt(r.dot(y,l));return l=r.divideByScalar(l,x,l),y=r.multiplyByScalar(y,u,y),t.defined(o)||(o=new r),r.add(l,y,o)},r.fromDegreesArray=function(n,e,a){var u=n.length;t.defined(a)?a.length=u/2:a=new Array(u/2);for(var i=0;i<u;i+=2){var o=n[i],f=n[i+1],y=i/2;a[y]=r.fromDegrees(o,f,0,e,a[y])}return a},r.fromRadiansArray=function(n,e,a){var u=n.length;t.defined(a)?a.length=u/2:a=new Array(u/2);for(var i=0;i<u;i+=2){var o=n[i],f=n[i+1],y=i/2;a[y]=r.fromRadians(o,f,0,e,a[y])}return a},r.fromDegreesArrayHeights=function(n,e,a){var u=n.length;t.defined(a)?a.length=u/3:a=new Array(u/3);for(var i=0;i<u;i+=3){var o=n[i],f=n[i+1],y=n[i+2],l=i/3;a[l]=r.fromDegrees(o,f,y,e,a[l])}return a},r.fromRadiansArrayHeights=function(n,e,a){var u=n.length;t.defined(a)?a.length=u/3:a=new Array(u/3);for(var i=0;i<u;i+=3){var o=n[i],f=n[i+1],y=n[i+2],l=i/3;a[l]=r.fromRadians(o,f,y,e,a[l])}return a},r.ZERO=Object.freeze(new r(0,0,0)),r.UNIT_X=Object.freeze(new r(1,0,0)),r.UNIT_Y=Object.freeze(new r(0,1,0)),r.UNIT_Z=Object.freeze(new r(0,0,1)),r.UNIT_XYZ=Object.freeze(new r(1,1,1)),r.prototype.clone=function(n){return r.clone(this,n)},r.prototype.equals=function(n){return r.equals(this,n)},r.prototype.equalsEpsilon=function(n,e,t){return r.equalsEpsilon(this,n,e,t)},r.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},r.globalOffset=new r(0,0,0),d.fromElements=function(n,e,r,a,u){return t.defined(u)?(u.x=n,u.y=e,u.z=r,u.w=a,u):new d(n,e,r,a)},d.fromColor=function(n,e){return t.defined(e)?(e.x=n.red,e.y=n.green,e.z=n.blue,e.w=n.alpha,e):new d(n.red,n.green,n.blue,n.alpha)},d.clone=function(n,e){if(t.defined(n))return t.defined(e)?(e.x=n.x,e.y=n.y,e.z=n.z,e.w=n.w,e):new d(n.x,n.y,n.z,n.w)},d.packedLength=4,d.pack=function(n,e,r){return r=t.defaultValue(r,0),e[r++]=n.x,e[r++]=n.y,e[r++]=n.z,e[r]=n.w,e},d.unpack=function(n,e,r){return e=t.defaultValue(e,0),t.defined(r)||(r=new d),r.x=n[e++],r.y=n[e++],r.z=n[e++],r.w=n[e],r},d.packArray=function(n,r){var a=n.length,u=4*a;if(t.defined(r)){if(!Array.isArray(r)&&r.length!==u)throw new e.DeveloperError("If result is a typed array, it must have exactly array.length * 4 elements");r.length!==u&&(r.length=u)}else r=new Array(u);for(var i=0;i<a;++i)d.pack(n[i],r,4*i);return r},d.unpackArray=function(n,e){var r=n.length;t.defined(e)?e.length=r/4:e=new Array(r/4);for(var a=0;a<r;a+=4){var u=a/4;e[u]=d.unpack(n,a,e[u])}return e},d.fromArray=d.unpack,d.maximumComponent=function(n){return Math.max(n.x,n.y,n.z,n.w)},d.minimumComponent=function(n){return Math.min(n.x,n.y,n.z,n.w)},d.minimumByComponent=function(n,e,t){return t.x=Math.min(n.x,e.x),t.y=Math.min(n.y,e.y),t.z=Math.min(n.z,e.z),t.w=Math.min(n.w,e.w),t},d.maximumByComponent=function(n,e,t){return t.x=Math.max(n.x,e.x),t.y=Math.max(n.y,e.y),t.z=Math.max(n.z,e.z),t.w=Math.max(n.w,e.w),t},d.magnitudeSquared=function(n){return n.x*n.x+n.y*n.y+n.z*n.z+n.w*n.w},d.magnitude=function(n){return Math.sqrt(d.magnitudeSquared(n))};var x=new d;d.distance=function(n,e){return d.subtract(n,e,x),d.magnitude(x)},d.distanceSquared=function(n,e){return d.subtract(n,e,x),d.magnitudeSquared(x)},d.normalize=function(n,e){var t=d.magnitude(n);return e.x=n.x/t,e.y=n.y/t,e.z=n.z/t,e.w=n.w/t,e},d.dot=function(n,e){return n.x*e.x+n.y*e.y+n.z*e.z+n.w*e.w},d.multiplyComponents=function(n,e,t){return t.x=n.x*e.x,t.y=n.y*e.y,t.z=n.z*e.z,t.w=n.w*e.w,t},d.divideComponents=function(n,e,t){return t.x=n.x/e.x,t.y=n.y/e.y,t.z=n.z/e.z,t.w=n.w/e.w,t},d.add=function(n,e,t){return t.x=n.x+e.x,t.y=n.y+e.y,t.z=n.z+e.z,t.w=n.w+e.w,t},d.subtract=function(n,e,t){return t.x=n.x-e.x,t.y=n.y-e.y,t.z=n.z-e.z,t.w=n.w-e.w,t},d.multiplyByScalar=function(n,e,t){return t.x=n.x*e,t.y=n.y*e,t.z=n.z*e,t.w=n.w*e,t},d.divideByScalar=function(n,e,t){return t.x=n.x/e,t.y=n.y/e,t.z=n.z/e,t.w=n.w/e,t},d.negate=function(n,e){return e.x=-n.x,e.y=-n.y,e.z=-n.z,e.w=-n.w,e},d.abs=function(n,e){return e.x=Math.abs(n.x),e.y=Math.abs(n.y),e.z=Math.abs(n.z),e.w=Math.abs(n.w),e};var z=new d;d.lerp=function(n,e,t,r){return d.multiplyByScalar(e,t,z),r=d.multiplyByScalar(n,1-t,r),d.add(z,r,r)};var m=new d;d.mostOrthogonalAxis=function(n,e){var t=d.normalize(n,m);return d.abs(t,t),e=t.x<=t.y?t.x<=t.z?t.x<=t.w?d.clone(d.UNIT_X,e):d.clone(d.UNIT_W,e):t.z<=t.w?d.clone(d.UNIT_Z,e):d.clone(d.UNIT_W,e):t.y<=t.z?t.y<=t.w?d.clone(d.UNIT_Y,e):d.clone(d.UNIT_W,e):t.z<=t.w?d.clone(d.UNIT_Z,e):d.clone(d.UNIT_W,e)},d.equals=function(n,e){return n===e||t.defined(n)&&t.defined(e)&&n.x===e.x&&n.y===e.y&&n.z===e.z&&n.w===e.w},d.equalsArray=function(n,e,t){return n.x===e[t]&&n.y===e[t+1]&&n.z===e[t+2]&&n.w===e[t+3]},d.equalsEpsilon=function(n,r,a,u){return n===r||t.defined(n)&&t.defined(r)&&e.CesiumMath.equalsEpsilon(n.x,r.x,a,u)&&e.CesiumMath.equalsEpsilon(n.y,r.y,a,u)&&e.CesiumMath.equalsEpsilon(n.z,r.z,a,u)&&e.CesiumMath.equalsEpsilon(n.w,r.w,a,u)},d.ZERO=Object.freeze(new d(0,0,0,0)),d.UNIT_X=Object.freeze(new d(1,0,0,0)),d.UNIT_Y=Object.freeze(new d(0,1,0,0)),d.UNIT_Z=Object.freeze(new d(0,0,1,0)),d.UNIT_W=Object.freeze(new d(0,0,0,1)),d.prototype.clone=function(n){return d.clone(this,n)},d.prototype.equals=function(n){return d.equals(this,n)},d.prototype.equalsEpsilon=function(n,e,t){return d.equalsEpsilon(this,n,e,t)},d.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"};var h=new Float32Array(1),w=256;d.packFloat=function(n,r){if(t.defined(r)||(r=new d),h[0]=n,0===(n=h[0]))return d.clone(d.ZERO,r);var a,u=n<0?1:0;isFinite(n)?(n=Math.abs(n),a=Math.floor(e.CesiumMath.logBase(n,10))+1,n/=Math.pow(10,a)):(n=.1,a=38);var i=n*w;return r.x=Math.floor(i),i=(i-r.x)*w,r.y=Math.floor(i),i=(i-r.y)*w,r.z=Math.floor(i),r.w=2*(a+38)+u,r},d.unpackFloat=function(n){var e=n.w/2,t=Math.floor(e),r=2*(e-t);if(r=-(r=2*r-1),(t-=38)>=38)return r<0?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY;var a=r*n.x*.00390625;return a+=r*n.y*152587890625e-16,(a+=r*n.z*5.960464477539063e-8)*Math.pow(10,t)},n.Cartesian3=r,n.Cartesian4=d}));
