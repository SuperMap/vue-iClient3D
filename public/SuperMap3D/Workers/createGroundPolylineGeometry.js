define(["./buildModuleUrl-c0836874","./Cartesian2-c4c2a8f9","./Cartesian4-442405e6","./Cartographic-2cfa3a3a","./Math-3024ab74","./when-b60132fc","./EllipsoidRhumbLine-18dee174","./FeatureDetection-caf5f946","./EllipsoidGeodesic-97d03085","./EncodedCartesian3-6a9cfb29","./GeometryAttribute-eb047ff3","./Plane-6b2f5e52","./Transforms-04c4d562","./WebMercatorProjection-daa60ae8","./WebGLConstants-aba9fc67","./PrimitiveType-ebb8c588"],(function(e,a,t,i,n,r,s,o,l,u,c,h,C,d,p,g){"use strict";function f(a){a=r.defaultValue(a,{}),this._ellipsoid=r.defaultValue(a.ellipsoid,e.Ellipsoid.WGS84),this._rectangle=r.defaultValue(a.rectangle,e.Rectangle.MAX_VALUE),this._projection=new e.GeographicProjection(this._ellipsoid),this._numberOfLevelZeroTilesX=r.defaultValue(a.numberOfLevelZeroTilesX,2),this._numberOfLevelZeroTilesY=r.defaultValue(a.numberOfLevelZeroTilesY,1),this._customDPI=a.customDPI,this._scaleDenominators=a.scaleDenominators,this._tileWidth=r.defaultValue(a.tileWidth,256),this._tileHeight=r.defaultValue(a.tileHeight,256),this._beginLevel=r.defaultValue(a.beginLevel,0)}Object.defineProperties(f.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}},beginLevel:{get:function(){return this._beginLevel}}}),f.prototype.getNumberOfXTilesAtLevel=function(e){return this._numberOfLevelZeroTilesX<<e-this._beginLevel},f.prototype.getNumberOfYTilesAtLevel=function(e){return this._numberOfLevelZeroTilesY<<e-this._beginLevel},f.prototype.rectangleToNativeRectangle=function(a,t){var i=n.CesiumMath.toDegrees(a.west),s=n.CesiumMath.toDegrees(a.south),o=n.CesiumMath.toDegrees(a.east),l=n.CesiumMath.toDegrees(a.north);return r.defined(t)?(t.west=i,t.south=s,t.east=o,t.north=l,t):new e.Rectangle(i,s,o,l)},f.prototype.tileXYToNativeRectangle=function(e,a,t,i){var r=this.tileXYToRectangle(e,a,t,i);return r.west=n.CesiumMath.toDegrees(r.west),r.south=n.CesiumMath.toDegrees(r.south),r.east=n.CesiumMath.toDegrees(r.east),r.north=n.CesiumMath.toDegrees(r.north),r},f.prototype.tileXYToRectangle=function(a,t,i,s){var o=this._rectangle;if(r.defined(this._customDPI)&&r.defined(this._scaleDenominators)){var l=this.calculateResolution(i),u=-n.CesiumMath.PI+a*this._tileWidth*l.x,c=-n.CesiumMath.PI+(a+1)*this._tileWidth*l.x,h=n.CesiumMath.PI_OVER_TWO-t*this._tileHeight*l.y,C=n.CesiumMath.PI_OVER_TWO-(t+1)*this._tileHeight*l.y;return r.defined(s)?(s.west=u,s.south=C,s.east=c,s.north=h,s):new e.Rectangle(u,C,c,h)}var d=this.getNumberOfXTilesAtLevel(i),p=this.getNumberOfYTilesAtLevel(i),g=o.width/d,f=(u=a*g+o.west,c=(a+1)*g+o.west,o.height/p);h=o.north-t*f,C=o.north-(t+1)*f;return r.defined(s)||(s=new e.Rectangle(u,C,c,h)),s.west=u,s.south=C,s.east=c,s.north=h,s},f.prototype.positionToTileXY=function(t,i,s){var o=this._rectangle;if(e.Rectangle.contains(o,t)){var l=this.getNumberOfXTilesAtLevel(i),u=this.getNumberOfYTilesAtLevel(i),c=o.width/l,h=o.height/u;if(r.defined(this._customDPI)&&r.defined(this._scaleDenominators)){var C=this.calculateResolution(i);c=this._tileWidth*C.x,h=this._tileHeight*C.y}var d=t.longitude;o.east<o.west&&(d+=n.CesiumMath.TWO_PI);var p=(d-o.west)/c|0;p>=l&&(p=l-1);var g=(o.north-t.latitude)/h|0;return g>=u&&(g=u-1),r.defined(s)?(s.x=p,s.y=g,s):new a.Cartesian2(p,g)}},f.prototype.calculateResolution=function(t){var i=.0254*this._scaleDenominators[t-this._beginLevel]/this._customDPI.x,n=.0254*this._scaleDenominators[t-this._beginLevel]/this._customDPI.y,r=e.Ellipsoid.WGS84.maximumRadius;return new a.Cartesian2(i/r,n/r)};var m=new t.Cartesian3,v=new t.Cartesian3,w=new i.Cartographic,y=new t.Cartesian3,_=new t.Cartesian3,T=new e.BoundingSphere,M=new f,E=[new i.Cartographic,new i.Cartographic,new i.Cartographic,new i.Cartographic],P=new a.Cartesian2,b={};function O(e){i.Cartographic.fromRadians(e.east,e.north,0,E[0]),i.Cartographic.fromRadians(e.west,e.north,0,E[1]),i.Cartographic.fromRadians(e.east,e.south,0,E[2]),i.Cartographic.fromRadians(e.west,e.south,0,E[3]);var a,t=0,n=0,r=0,s=0,o=b._terrainHeightsMaxLevel;for(a=0;a<=o;++a){for(var l=!1,u=0;u<4;++u){var c=E[u];if(M.positionToTileXY(c,a,P),0===u)r=P.x,s=P.y;else if(r!==P.x||s!==P.y){l=!0;break}}if(l)break;t=r,n=s}if(0!==a)return{x:t,y:n,level:a>o?o:a-1}}b.initialize=function(){var a=b._initPromise;return r.defined(a)||(a=e.Resource.fetchJson(e.buildModuleUrl("Assets/approximateTerrainHeights.json")).then((function(e){b._terrainHeights=e})),b._initPromise=a),a},b.getMinimumMaximumHeights=function(a,i){i=r.defaultValue(i,e.Ellipsoid.WGS84);var n=O(a),s=b._defaultMinTerrainHeight,o=b._defaultMaxTerrainHeight;if(r.defined(n)){var l=n.level+"-"+n.x+"-"+n.y,u=b._terrainHeights[l];r.defined(u)&&(s=u[0],o=u[1]),i.cartographicToCartesian(e.Rectangle.northeast(a,w),m),i.cartographicToCartesian(e.Rectangle.southwest(a,w),v),t.Cartesian3.midpoint(v,m,y);var c=i.scaleToGeodeticSurface(y,_);if(r.defined(c)){var h=t.Cartesian3.distance(y,c);s=Math.min(s,-h)}else s=b._defaultMinTerrainHeight}return{minimumTerrainHeight:s=Math.max(b._defaultMinTerrainHeight,s),maximumTerrainHeight:o}},b.getBoundingSphere=function(a,t){t=r.defaultValue(t,e.Ellipsoid.WGS84);var i=O(a),n=b._defaultMaxTerrainHeight;if(r.defined(i)){var s=i.level+"-"+i.x+"-"+i.y,o=b._terrainHeights[s];r.defined(o)&&(n=o[1])}var l=e.BoundingSphere.fromRectangle3D(a,t,0);return e.BoundingSphere.fromRectangle3D(a,t,n,T),e.BoundingSphere.union(l,T,l)},b._terrainHeightsMaxLevel=6,b._defaultMaxTerrainHeight=9e3,b._defaultMinTerrainHeight=-1e5,b._terrainHeights=void 0,b._initPromise=void 0,Object.defineProperties(b,{initialized:{get:function(){return r.defined(b._terrainHeights)}}});var I=[e.GeographicProjection,d.WebMercatorProjection],L=I.length,S=Math.cos(n.CesiumMath.toRadians(30)),k=Math.cos(n.CesiumMath.toRadians(150));function A(a){var t=(a=r.defaultValue(a,r.defaultValue.EMPTY_OBJECT)).positions;this.width=r.defaultValue(a.width,1),this._positions=t,this.granularity=r.defaultValue(a.granularity,9999),this.loop=r.defaultValue(a.loop,!1),this.arcType=r.defaultValue(a.arcType,s.ArcType.GEODESIC),this._ellipsoid=r.defaultValue(a.ellipsoid,e.Ellipsoid.WGS84),this._projectionIndex=0,this._workerName="createGroundPolylineGeometry",this._scene3DOnly=!1}Object.defineProperties(A.prototype,{packedLength:{get:function(){return 1+3*this._positions.length+1+1+1+e.Ellipsoid.packedLength+1+1}}}),A.setProjectionAndEllipsoid=function(e,a){for(var t=0,i=0;i<L;i++)if(a instanceof I[i]){t=i;break}e._projectionIndex=t,e._ellipsoid=a.ellipsoid};var D=new t.Cartesian3,N=new t.Cartesian3,x=new t.Cartesian3;function R(e,a,i,n,r){var s=W(n,e,0,D),o=W(n,e,i,N),l=W(n,a,0,x),u=F(o,s,N),c=F(l,s,x);return t.Cartesian3.cross(c,u,r),t.Cartesian3.normalize(r,r)}var H=new i.Cartographic,V=new t.Cartesian3,z=new t.Cartesian3,j=new t.Cartesian3;function G(e,a,i,n,r,o,u,c,h,C,d){if(0!==r){var p;o===s.ArcType.GEODESIC?p=new l.EllipsoidGeodesic(e,a,u):o===s.ArcType.RHUMB&&(p=new s.EllipsoidRhumbLine(e,a,u));var g=p.surfaceDistance;if(!(g<r))for(var f=R(e,a,n,u,j),m=Math.ceil(g/r),v=g/m,w=v,y=m-1,_=c.length,T=0;T<y;T++){var M=p.interpolateUsingSurfaceDistance(w,H),E=W(u,M,i,V),P=W(u,M,n,z);t.Cartesian3.pack(f,c,_),t.Cartesian3.pack(E,h,_),t.Cartesian3.pack(P,C,_),d.push(M.latitude),d.push(M.longitude),_+=3,w+=v}}}var B=new i.Cartographic;function W(e,a,t,n){return i.Cartographic.clone(a,B),B.height=t,i.Cartographic.toCartesian(B,e,n)}function F(e,a,i){return t.Cartesian3.subtract(e,a,i),t.Cartesian3.normalize(i,i),i}A.pack=function(a,i,n){var s=r.defaultValue(n,0),o=a._positions,l=o.length;i[s++]=l;for(var u=0;u<l;++u){var c=o[u];t.Cartesian3.pack(c,i,s),s+=3}return i[s++]=a.granularity,i[s++]=a.loop?1:0,i[s++]=a.arcType,e.Ellipsoid.pack(a._ellipsoid,i,s),s+=e.Ellipsoid.packedLength,i[s++]=a._projectionIndex,i[s++]=a._scene3DOnly?1:0,i},A.unpack=function(a,i,n){for(var s=r.defaultValue(i,0),o=a[s++],l=new Array(o),u=0;u<o;u++)l[u]=t.Cartesian3.unpack(a,s),s+=3;var c=a[s++],h=1===a[s++],C=a[s++],d=e.Ellipsoid.unpack(a,s);s+=e.Ellipsoid.packedLength;var p=a[s++],g=1===a[s++];if(!r.defined(n)){var f=new A({positions:l,granularity:c,loop:h,arcType:C,ellipsoid:d});return f._projectionIndex=p,f._scene3DOnly=g,f}return n._positions=l,n.granularity=c,n.loop=h,n.arcType=C,n._ellipsoid=d,n._projectionIndex=p,n._scene3DOnly=g,n};var Y=new t.Cartesian3,X=new t.Cartesian3,q=new t.Cartesian3,U=new t.Cartesian3,Z=new h.Plane(t.Cartesian3.UNIT_X,0),Q=new t.Cartesian3;function J(e,a,i,r,s){var o=F(i,a,Q),l=F(e,a,Y),u=F(r,a,X),c=t.Cartesian3.cross(o,l,U);c=t.Cartesian3.normalize(c,c);var C=h.Plane.fromPointNormal(a,c,Z),d=h.Plane.getPointDistance(C,r);if(n.CesiumMath.equalsEpsilon(d,0,n.CesiumMath.EPSILON7))return t.Cartesian3.clone(c,s),s;s=t.Cartesian3.add(u,l,s),s=t.Cartesian3.normalize(s,s);var p=t.Cartesian3.cross(o,s,q);return t.Cartesian3.normalize(p,p),t.Cartesian3.cross(p,o,s),t.Cartesian3.normalize(s,s),t.Cartesian3.dot(u,p)<0&&(s=t.Cartesian3.negate(s,s)),s}var K=h.Plane.fromPointNormal(t.Cartesian3.ZERO,t.Cartesian3.UNIT_Y),$=new t.Cartesian3,ee=new t.Cartesian3,ae=new t.Cartesian3,te=new t.Cartesian3,ie=new t.Cartesian3,ne=new t.Cartesian3,re=new i.Cartographic,se=new i.Cartographic,oe=new i.Cartographic;A.createGeometry=function(a){var l,C,d,p,g,f,m=!a._scene3DOnly,v=a.loop,w=a._ellipsoid,y=a.granularity,_=a.arcType,T=new I[a._projectionIndex](w),M=1e3,E=a._positions,P=E.length;2===P&&(v=!1);var O,L,k,A=new s.EllipsoidRhumbLine(void 0,void 0,w),D=[E[0]];for(C=0;C<P-1;C++)d=E[C],p=E[C+1],O=h.IntersectionTests.lineSegmentPlane(d,p,K,ne),!r.defined(O)||t.Cartesian3.equalsEpsilon(O,d,n.CesiumMath.EPSILON7)||t.Cartesian3.equalsEpsilon(O,p,n.CesiumMath.EPSILON7)||(a.arcType===s.ArcType.GEODESIC?D.push(t.Cartesian3.clone(O)):a.arcType===s.ArcType.RHUMB&&(k=w.cartesianToCartographic(O,re).longitude,g=w.cartesianToCartographic(d,re),f=w.cartesianToCartographic(p,se),A.setEndPoints(g,f),L=A.findIntersectionWithLongitude(k,oe),O=w.cartographicToCartesian(L,ne),!r.defined(O)||t.Cartesian3.equalsEpsilon(O,d,n.CesiumMath.EPSILON7)||t.Cartesian3.equalsEpsilon(O,p,n.CesiumMath.EPSILON7)||D.push(t.Cartesian3.clone(O)))),D.push(p);v&&(d=E[P-1],p=E[0],O=h.IntersectionTests.lineSegmentPlane(d,p,K,ne),!r.defined(O)||t.Cartesian3.equalsEpsilon(O,d,n.CesiumMath.EPSILON7)||t.Cartesian3.equalsEpsilon(O,p,n.CesiumMath.EPSILON7)||(a.arcType===s.ArcType.GEODESIC?D.push(t.Cartesian3.clone(O)):a.arcType===s.ArcType.RHUMB&&(k=w.cartesianToCartographic(O,re).longitude,g=w.cartesianToCartographic(d,re),f=w.cartesianToCartographic(p,se),A.setEndPoints(g,f),L=A.findIntersectionWithLongitude(k,oe),O=w.cartographicToCartesian(L,ne),!r.defined(O)||t.Cartesian3.equalsEpsilon(O,d,n.CesiumMath.EPSILON7)||t.Cartesian3.equalsEpsilon(O,p,n.CesiumMath.EPSILON7)||D.push(t.Cartesian3.clone(O)))));var N=D.length,x=new Array(N);for(C=0;C<N;C++){var H=i.Cartographic.fromCartesian(D[C],w);H.height=0,x[C]=H}if(!((N=(x=s.arrayRemoveDuplicates(x,i.Cartographic.equalsEpsilon)).length)<2)){var V=[],z=[],j=[],B=[],Y=$,X=ee,q=ae,U=te,Z=ie,Q=x[0],le=x[1];for(Y=W(w,x[N-1],0,Y),U=W(w,le,0,U),X=W(w,Q,0,X),q=W(w,Q,M,q),Z=v?J(Y,X,q,U,Z):R(Q,le,M,w,Z),t.Cartesian3.pack(Z,z,0),t.Cartesian3.pack(X,j,0),t.Cartesian3.pack(q,B,0),V.push(Q.latitude),V.push(Q.longitude),G(Q,le,0,M,y,_,w,z,j,B,V),C=1;C<N-1;++C){Y=t.Cartesian3.clone(X,Y),X=t.Cartesian3.clone(U,X);var ue=x[C];W(w,ue,M,q),W(w,x[C+1],0,U),J(Y,X,q,U,Z),l=z.length,t.Cartesian3.pack(Z,z,l),t.Cartesian3.pack(X,j,l),t.Cartesian3.pack(q,B,l),V.push(ue.latitude),V.push(ue.longitude),G(x[C],x[C+1],0,M,y,_,w,z,j,B,V)}var ce=x[N-1],Ce=x[N-2];if(X=W(w,ce,0,X),q=W(w,ce,M,q),v){var de=x[0];Z=J(Y=W(w,Ce,0,Y),X,q,U=W(w,de,0,U),Z)}else Z=R(Ce,ce,M,w,Z);if(l=z.length,t.Cartesian3.pack(Z,z,l),t.Cartesian3.pack(X,j,l),t.Cartesian3.pack(q,B,l),V.push(ce.latitude),V.push(ce.longitude),v){for(G(ce,Q,0,M,y,_,w,z,j,B,V),l=z.length,C=0;C<3;++C)z[l+C]=z[C],j[l+C]=j[C],B[l+C]=B[C];V.push(Q.latitude),V.push(Q.longitude)}return function(a,i,r,s,l,h,C){var d,p,g,f,m,v,w=i._ellipsoid,y=r.length/3-1,_=8*y,T=4*_,M=36*y,E=_>65535?new Uint32Array(M):new Uint16Array(M),P=new Float64Array(3*_),O=new Float32Array(T),I=new Float32Array(T),L=new Float32Array(T),k=new Float32Array(T),A=new Float32Array(T);C&&(g=new Float32Array(T),f=new Float32Array(T),m=new Float32Array(T),v=new Float32Array(2*_));var D=h.length/2,N=0,x=Te;x.height=0;var R=Me;R.height=0;var H=Ee,V=Pe;if(C)for(p=0,d=1;d<D;d++)x.latitude=h[p],x.longitude=h[p+1],R.latitude=h[p+2],R.longitude=h[p+3],H=i.project(x,H),V=i.project(R,V),N+=t.Cartesian3.distance(H,V),p+=2;var z=s.length/3;V=t.Cartesian3.unpack(s,0,V);var j,G=0;for(p=3,d=1;d<z;d++)H=t.Cartesian3.clone(V,H),V=t.Cartesian3.unpack(s,p,V),G+=t.Cartesian3.distance(H,V),p+=3;p=3;var B=0,W=0,Y=0,X=0,q=!1,U=t.Cartesian3.unpack(r,0,Oe),Z=t.Cartesian3.unpack(s,0,Pe),Q=t.Cartesian3.unpack(l,0,Le);if(a){he(Q,t.Cartesian3.unpack(r,r.length-6,be),U,Z)&&(Q=t.Cartesian3.negate(Q,Q))}var J=0,K=0,$=0;for(d=0;d<y;d++){var ee,ae,te,ie,ne=t.Cartesian3.clone(U,be),re=t.Cartesian3.clone(Z,Ee),se=t.Cartesian3.clone(Q,Ie);if(q&&(se=t.Cartesian3.negate(se,se)),U=t.Cartesian3.unpack(r,p,Oe),Z=t.Cartesian3.unpack(s,p,Pe),q=he(Q=t.Cartesian3.unpack(l,p,Le),ne,U,Z),x.latitude=h[B],x.longitude=h[B+1],R.latitude=h[B+2],R.longitude=h[B+3],C){var oe=_e(x,R);ee=i.project(x,Re);var le=F(ae=i.project(R,He),ee,Ue);le.y=Math.abs(le.y),te=Ve,ie=ze,0===oe||t.Cartesian3.dot(le,t.Cartesian3.UNIT_Y)>S?(te=ge(i,x,se,ee,Ve),ie=ge(i,R,Q,ae,ze)):1===oe?(ie=ge(i,R,Q,ae,ze),te.x=0,te.y=n.CesiumMath.sign(x.longitude-Math.abs(R.longitude)),te.z=0):(te=ge(i,x,se,ee,Ve),ie.x=0,ie.y=n.CesiumMath.sign(x.longitude-R.longitude),ie.z=0)}var ue=t.Cartesian3.distance(re,Z),ce=u.EncodedCartesian3.fromCartesian(ne,Xe),Ce=t.Cartesian3.subtract(U,ne,je),de=t.Cartesian3.normalize(Ce,We),pe=t.Cartesian3.subtract(re,ne,Ge);pe=t.Cartesian3.normalize(pe,pe);var fe=t.Cartesian3.cross(de,pe,We);fe=t.Cartesian3.normalize(fe,fe);var me=t.Cartesian3.cross(pe,se,Fe);me=t.Cartesian3.normalize(me,me);var we=t.Cartesian3.subtract(Z,U,Be);we=t.Cartesian3.normalize(we,we);var aa=t.Cartesian3.cross(Q,we,Ye);aa=t.Cartesian3.normalize(aa,aa);var ta,ia,na,ra=ue/G,sa=J/G,oa=0,la=0,ua=0;if(C){oa=t.Cartesian3.distance(ee,ae),ta=u.EncodedCartesian3.fromCartesian(ee,qe),ia=t.Cartesian3.subtract(ae,ee,Ue);var ca=(na=t.Cartesian3.normalize(ia,Ze)).x;na.x=na.y,na.y=-ca,la=oa/N,ua=K/N}for(j=0;j<8;j++){var ha=X+4*j,Ca=W+2*j,da=ha+3,pa=j<4?1:-1,ga=2===j||3===j||6===j||7===j?1:-1;t.Cartesian3.pack(ce.high,O,ha),O[da]=Ce.x,t.Cartesian3.pack(ce.low,I,ha),I[da]=Ce.y,t.Cartesian3.pack(me,L,ha),L[da]=Ce.z,t.Cartesian3.pack(aa,k,ha),k[da]=ra*pa,t.Cartesian3.pack(fe,A,ha);var fa=sa*ga;0===fa&&ga<0&&(fa=Number.POSITIVE_INFINITY),A[da]=fa,C&&(g[ha]=ta.high.x,g[ha+1]=ta.high.y,g[ha+2]=ta.low.x,g[ha+3]=ta.low.y,m[ha]=-te.y,m[ha+1]=te.x,m[ha+2]=ie.y,m[ha+3]=-ie.x,f[ha]=ia.x,f[ha+1]=ia.y,f[ha+2]=na.x,f[ha+3]=na.y,v[Ca]=la*pa,0===(fa=ua*ga)&&ga<0&&(fa=Number.POSITIVE_INFINITY),v[Ca+1]=fa)}var ma=Ne,va=xe,wa=Ae,ya=De,_a=e.Rectangle.fromCartographicArray(Se,ke),Ta=b.getMinimumMaximumHeights(_a,w),Ma=Ta.minimumTerrainHeight,Ea=Ta.maximumTerrainHeight;$+=Ma,$+=Ea,ve(ne,re,Ma,Ea,ma,wa),ve(U,Z,Ma,Ea,va,ya);var Pa=t.Cartesian3.multiplyByScalar(fe,n.CesiumMath.EPSILON5,Qe);t.Cartesian3.add(ma,Pa,ma),t.Cartesian3.add(va,Pa,va),t.Cartesian3.add(wa,Pa,wa),t.Cartesian3.add(ya,Pa,ya),ye(ma,va),ye(wa,ya),t.Cartesian3.pack(ma,P,Y),t.Cartesian3.pack(va,P,Y+3),t.Cartesian3.pack(ya,P,Y+6),t.Cartesian3.pack(wa,P,Y+9),Pa=t.Cartesian3.multiplyByScalar(fe,-2*n.CesiumMath.EPSILON5,Qe),t.Cartesian3.add(ma,Pa,ma),t.Cartesian3.add(va,Pa,va),t.Cartesian3.add(wa,Pa,wa),t.Cartesian3.add(ya,Pa,ya),ye(ma,va),ye(wa,ya),t.Cartesian3.pack(ma,P,Y+12),t.Cartesian3.pack(va,P,Y+15),t.Cartesian3.pack(ya,P,Y+18),t.Cartesian3.pack(wa,P,Y+21),B+=2,p+=3,W+=16,Y+=24,X+=32,J+=ue,K+=oa}p=0;var ba=0;for(d=0;d<y;d++){for(j=0;j<$e;j++)E[p+j]=Ke[j]+ba;ba+=8,p+=$e}var Oa=Je;e.BoundingSphere.fromVertices(r,t.Cartesian3.ZERO,3,Oa[0]),e.BoundingSphere.fromVertices(s,t.Cartesian3.ZERO,3,Oa[1]);var Ia=e.BoundingSphere.fromBoundingSpheres(Oa);Ia.radius+=$/(2*y);var La={position:new c.GeometryAttribute({componentDatatype:o.ComponentDatatype.DOUBLE,componentsPerAttribute:3,normalize:!1,values:P}),startHiAndForwardOffsetX:ea(O),startLoAndForwardOffsetY:ea(I),startNormalAndForwardOffsetZ:ea(L),endNormalAndTextureCoordinateNormalizationX:ea(k),rightNormalAndTextureCoordinateNormalizationY:ea(A)};C&&(La.startHiLo2D=ea(g),La.offsetAndRight2D=ea(f),La.startEndNormals2D=ea(m),La.texcoordNormalization2D=new c.GeometryAttribute({componentDatatype:o.ComponentDatatype.FLOAT,componentsPerAttribute:2,normalize:!1,values:v}));return new c.Geometry({attributes:La,indices:E,boundingSphere:Ia})}(v,T,j,B,z,V,m)}};var le=new t.Cartesian3,ue=new a.Matrix3,ce=new C.Quaternion;function he(e,i,r,s){var o=F(r,i,le),l=t.Cartesian3.dot(o,e);if(l>S||l<k){var u=F(s,r,Q),c=l<k?n.CesiumMath.PI_OVER_TWO:-n.CesiumMath.PI_OVER_TWO,h=C.Quaternion.fromAxisAngle(u,c,ce),d=a.Matrix3.fromQuaternion(h,ue);return a.Matrix3.multiplyByVector(d,e,e),!0}return!1}var Ce=new i.Cartographic,de=new t.Cartesian3,pe=new t.Cartesian3;function ge(e,a,r,s,o){var l=i.Cartographic.toCartesian(a,e._ellipsoid,de),u=t.Cartesian3.add(l,r,pe),c=!1,h=e._ellipsoid,C=h.cartesianToCartographic(u,Ce);Math.abs(a.longitude-C.longitude)>n.CesiumMath.PI_OVER_TWO&&(c=!0,u=t.Cartesian3.subtract(l,r,pe),C=h.cartesianToCartographic(u,Ce)),C.height=0;var d=e.project(C,o);return(o=t.Cartesian3.subtract(d,s,o)).z=0,o=t.Cartesian3.normalize(o,o),c&&t.Cartesian3.negate(o,o),o}var fe=new t.Cartesian3,me=new t.Cartesian3;function ve(e,a,i,n,r,s){var o=t.Cartesian3.subtract(a,e,fe);t.Cartesian3.normalize(o,o);var l=i-0,u=t.Cartesian3.multiplyByScalar(o,l,me);t.Cartesian3.add(e,u,r);var c=n-1e3;u=t.Cartesian3.multiplyByScalar(o,c,me),t.Cartesian3.add(a,u,s)}var we=new t.Cartesian3;function ye(e,a){var i=h.Plane.getPointDistance(K,e),r=h.Plane.getPointDistance(K,a),s=we;n.CesiumMath.equalsEpsilon(i,0,n.CesiumMath.EPSILON2)?(s=F(a,e,s),t.Cartesian3.multiplyByScalar(s,n.CesiumMath.EPSILON2,s),t.Cartesian3.add(e,s,e)):n.CesiumMath.equalsEpsilon(r,0,n.CesiumMath.EPSILON2)&&(s=F(e,a,s),t.Cartesian3.multiplyByScalar(s,n.CesiumMath.EPSILON2,s),t.Cartesian3.add(a,s,a))}function _e(e,a){var t=Math.abs(e.longitude),i=Math.abs(a.longitude);if(n.CesiumMath.equalsEpsilon(t,n.CesiumMath.PI,n.CesiumMath.EPSILON11)){var r=n.CesiumMath.sign(a.longitude);return e.longitude=r*(t-n.CesiumMath.EPSILON11),1}if(n.CesiumMath.equalsEpsilon(i,n.CesiumMath.PI,n.CesiumMath.EPSILON11)){var s=n.CesiumMath.sign(e.longitude);return a.longitude=s*(i-n.CesiumMath.EPSILON11),2}return 0}var Te=new i.Cartographic,Me=new i.Cartographic,Ee=new t.Cartesian3,Pe=new t.Cartesian3,be=new t.Cartesian3,Oe=new t.Cartesian3,Ie=new t.Cartesian3,Le=new t.Cartesian3,Se=[Te,Me],ke=new e.Rectangle,Ae=new t.Cartesian3,De=new t.Cartesian3,Ne=new t.Cartesian3,xe=new t.Cartesian3,Re=new t.Cartesian3,He=new t.Cartesian3,Ve=new t.Cartesian3,ze=new t.Cartesian3,je=new t.Cartesian3,Ge=new t.Cartesian3,Be=new t.Cartesian3,We=new t.Cartesian3,Fe=new t.Cartesian3,Ye=new t.Cartesian3,Xe=new u.EncodedCartesian3,qe=new u.EncodedCartesian3,Ue=new t.Cartesian3,Ze=new t.Cartesian3,Qe=new t.Cartesian3,Je=[new e.BoundingSphere,new e.BoundingSphere],Ke=[0,2,1,0,3,2,0,7,3,0,4,7,0,5,4,0,1,5,5,7,4,5,6,7,5,2,6,5,1,2,3,6,2,3,7,6],$e=Ke.length;function ea(e){return new c.GeometryAttribute({componentDatatype:o.ComponentDatatype.FLOAT,componentsPerAttribute:4,normalize:!1,values:e})}return A._projectNormal=ge,function(e,a){return b.initialize().then((function(){return r.defined(a)&&(e=A.unpack(e,a)),A.createGeometry(e)}))}}));
