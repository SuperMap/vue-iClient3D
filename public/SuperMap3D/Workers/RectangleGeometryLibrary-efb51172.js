define(["exports","./Cartographic-9ee1f1bd","./when-7d8885d2","./Check-737bd4ec","./buildModuleUrl-9403d69d","./Math-4ffce144","./GeometryAttribute-bf27d0ff","./Cartesian2-54f49cd5"],(function(t,n,a,r,e,o,i,s){"use strict";var g=Math.cos,h=Math.sin,u=Math.sqrt,c={computePosition:function(t,n,r,e,o,i,s){var c=n.radiiSquared,C=t.nwCorner,l=t.boundingRectangle,d=C.latitude-t.granYCos*e+o*t.granXSin,S=g(d),w=h(d),M=c.z*w,f=C.longitude+e*t.granYSin+o*t.granXCos,X=S*g(f),Y=S*h(f),m=c.x*X,p=c.y*Y,v=u(m*X+p*Y+M*w);if(i.x=m/v,i.y=p/v,i.z=M/v,r){var G=t.stNwCorner;a.defined(G)?(d=G.latitude-t.stGranYCos*e+o*t.stGranXSin,f=G.longitude+e*t.stGranYSin+o*t.stGranXCos,s.x=(f-t.stWest)*t.lonScalar,s.y=(d-t.stSouth)*t.latScalar):(s.x=(f-l.west)*t.lonScalar,s.y=(d-l.south)*t.latScalar)}}},C=new i.Matrix2,l=new n.Cartesian3,d=new n.Cartographic,S=new n.Cartesian3,w=new e.GeographicProjection;function M(t,a,r,e,o,s,g){var h=Math.cos(a),u=e*h,c=r*h,d=Math.sin(a),M=e*d,f=r*d;l=w.project(t,l),l=n.Cartesian3.subtract(l,S,l);var X=i.Matrix2.fromRotation(a,C);l=i.Matrix2.multiplyByVector(X,l,l),l=n.Cartesian3.add(l,S,l),s-=1,g-=1;var Y=(t=w.unproject(l,t)).latitude,m=Y+s*f,p=Y-u*g,v=Y-u*g+s*f,G=Math.max(Y,m,p,v),x=Math.min(Y,m,p,v),R=t.longitude,b=R+s*c,y=R+g*M,O=R+g*M+s*c;return{north:G,south:x,east:Math.max(R,b,y,O),west:Math.min(R,b,y,O),granYCos:u,granYSin:M,granXCos:c,granXSin:f,nwCorner:t}}c.computeOptions=function(t,n,a,r,e,i,g){var h,u,c,C,l,f=t.east,X=t.west,Y=t.north,m=t.south,p=!1,v=!1;Y===o.CesiumMath.PI_OVER_TWO&&(p=!0),m===-o.CesiumMath.PI_OVER_TWO&&(v=!0);var G=Y-m;c=(l=X>f?o.CesiumMath.TWO_PI-X+f:f-X)/((h=Math.ceil(l/n)+1)-1),C=G/((u=Math.ceil(G/n)+1)-1);var x=s.Rectangle.northwest(t,i),R=s.Rectangle.center(t,d);0===a&&0===r||(R.longitude<x.longitude&&(R.longitude+=o.CesiumMath.TWO_PI),S=w.project(R,S));var b=C,y=c,O=s.Rectangle.clone(t,e),P={granYCos:b,granYSin:0,granXCos:y,granXSin:0,nwCorner:x,boundingRectangle:O,width:h,height:u,northCap:p,southCap:v};if(0!==a){var W=M(x,a,c,C,0,h,u);Y=W.north,m=W.south,f=W.east,X=W.west,P.granYCos=W.granYCos,P.granYSin=W.granYSin,P.granXCos=W.granXCos,P.granXSin=W.granXSin,O.north=Y,O.south=m,O.east=f,O.west=X}if(0!==r){a-=r;var _=s.Rectangle.northwest(O,g),j=M(_,a,c,C,0,h,u);P.stGranYCos=j.granYCos,P.stGranXCos=j.granXCos,P.stGranYSin=j.granYSin,P.stGranXSin=j.granXSin,P.stNwCorner=_,P.stWest=j.west,P.stSouth=j.south}return P},t.RectangleGeometryLibrary=c}));
