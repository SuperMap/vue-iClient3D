define(["exports","./Check-737bd4ec","./when-7d8885d2","./Math-4ffce144"],(function(e,n,t,r){"use strict";function a(e,n,r){this.x=t.defaultValue(e,0),this.y=t.defaultValue(n,0),this.z=t.defaultValue(r,0)}a.fromSpherical=function(e,n){t.defined(n)||(n=new a);var r=e.clock,i=e.cone,u=t.defaultValue(e.magnitude,1),o=u*Math.sin(i);return n.x=o*Math.cos(r),n.y=o*Math.sin(r),n.z=u*Math.cos(i),n},a.fromElements=function(e,n,r,i){return t.defined(i)?(i.x=e,i.y=n,i.z=r,i):new a(e,n,r)},a.clone=function(e,n){if(t.defined(e))return t.defined(n)?(n.x=e.x,n.y=e.y,n.z=e.z,n):new a(e.x,e.y,e.z)},a.fromCartesian4=a.clone,a.packedLength=3,a.pack=function(e,n,r){return r=t.defaultValue(r,0),n[r++]=e.x,n[r++]=e.y,n[r]=e.z,n},a.unpack=function(e,n,r){return n=t.defaultValue(n,0),t.defined(r)||(r=new a),r.x=e[n++],r.y=e[n++],r.z=e[n],r},a.packArray=function(e,r){var i=e.length,u=3*i;if(t.defined(r)){if(!Array.isArray(r)&&r.length!==u)throw new n.DeveloperError("If result is a typed array, it must have exactly array.length * 3 elements");r.length!==u&&(r.length=u)}else r=new Array(u);for(var o=0;o<i;++o)a.pack(e[o],r,3*o);return r},a.unpackArray=function(e,n){var r=e.length;t.defined(n)?n.length=r/3:n=new Array(r/3);for(var i=0;i<r;i+=3){var u=i/3;n[u]=a.unpack(e,i,n[u])}return n},a.fromArray=a.unpack,a.maximumComponent=function(e){return Math.max(e.x,e.y,e.z)},a.minimumComponent=function(e){return Math.min(e.x,e.y,e.z)},a.minimumByComponent=function(e,n,t){return t.x=Math.min(e.x,n.x),t.y=Math.min(e.y,n.y),t.z=Math.min(e.z,n.z),t},a.maximumByComponent=function(e,n,t){return t.x=Math.max(e.x,n.x),t.y=Math.max(e.y,n.y),t.z=Math.max(e.z,n.z),t},a.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z},a.magnitude=function(e){return Math.sqrt(a.magnitudeSquared(e))};var i=new a;a.distance=function(e,n){return a.subtract(e,n,i),a.magnitude(i)},a.distanceSquared=function(e,n){return a.subtract(e,n,i),a.magnitudeSquared(i)},a.normalize=function(e,n){var t=a.magnitude(e);return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n},a.dot=function(e,n){return e.x*n.x+e.y*n.y+e.z*n.z},a.multiplyComponents=function(e,n,t){return t.x=e.x*n.x,t.y=e.y*n.y,t.z=e.z*n.z,t},a.divideComponents=function(e,n,t){return t.x=e.x/n.x,t.y=e.y/n.y,t.z=e.z/n.z,t},a.add=function(e,n,t){return t.x=e.x+n.x,t.y=e.y+n.y,t.z=e.z+n.z,t},a.subtract=function(e,n,t){return t.x=e.x-n.x,t.y=e.y-n.y,t.z=e.z-n.z,t},a.multiplyByScalar=function(e,n,t){return t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t},a.divideByScalar=function(e,n,t){return t.x=e.x/n,t.y=e.y/n,t.z=e.z/n,t},a.negate=function(e,n){return n.x=-e.x,n.y=-e.y,n.z=-e.z,n},a.abs=function(e,n){return n.x=Math.abs(e.x),n.y=Math.abs(e.y),n.z=Math.abs(e.z),n};var u=new a;a.lerp=function(e,n,t,r){return a.multiplyByScalar(n,t,u),r=a.multiplyByScalar(e,1-t,r),a.add(u,r,r)};var o=new a,d=new a;a.angleBetween=function(e,n){a.normalize(e,o),a.normalize(n,d);var t=a.dot(o,d),r=a.magnitude(a.cross(o,d,o));return Math.atan2(r,t)};var f=new a;a.mostOrthogonalAxis=function(e,n){var t=a.normalize(e,f);return a.abs(t,t),n=t.x<=t.y?t.x<=t.z?a.clone(a.UNIT_X,n):a.clone(a.UNIT_Z,n):t.y<=t.z?a.clone(a.UNIT_Y,n):a.clone(a.UNIT_Z,n)},a.projectVector=function(e,n,t){var r=a.dot(e,n)/a.dot(n,n);return a.multiplyByScalar(n,r,t)},a.equals=function(e,n){return e===n||t.defined(e)&&t.defined(n)&&e.x===n.x&&e.y===n.y&&e.z===n.z},a.equalsArray=function(e,n,t){return e.x===n[t]&&e.y===n[t+1]&&e.z===n[t+2]},a.equalsEpsilon=function(e,n,a,i){return e===n||t.defined(e)&&t.defined(n)&&r.CesiumMath.equalsEpsilon(e.x,n.x,a,i)&&r.CesiumMath.equalsEpsilon(e.y,n.y,a,i)&&r.CesiumMath.equalsEpsilon(e.z,n.z,a,i)},a.cross=function(e,n,t){var r=e.x,a=e.y,i=e.z,u=n.x,o=n.y,d=n.z,f=a*d-i*o,l=i*u-r*d,s=r*o-a*u;return t.x=f,t.y=l,t.z=s,t},a.midpoint=function(e,n,t){return t.x=.5*(e.x+n.x),t.y=.5*(e.y+n.y),t.z=.5*(e.z+n.z),t},a.fromDegrees=function(e,n,t,i,u){return e=r.CesiumMath.toRadians(e),n=r.CesiumMath.toRadians(n),a.fromRadians(e,n,t,i,u)};var l=new a,s=new a,c=new a(40680631590769,40680631590769,40408299984661.445);a.fromRadians=function(e,n,r,i,u){r=t.defaultValue(r,0);var o=t.defined(i)?i.radiiSquared:c,d=Math.cos(n);l.x=d*Math.cos(e),l.y=d*Math.sin(e),l.z=Math.sin(n),l=a.normalize(l,l),a.multiplyComponents(o,l,s);var f=Math.sqrt(a.dot(l,s));return s=a.divideByScalar(s,f,s),l=a.multiplyByScalar(l,r,l),t.defined(u)||(u=new a),a.add(s,l,u)},a.fromDegreesArray=function(e,n,r){var i=e.length;t.defined(r)?r.length=i/2:r=new Array(i/2);for(var u=0;u<i;u+=2){var o=e[u],d=e[u+1],f=u/2;r[f]=a.fromDegrees(o,d,0,n,r[f])}return r},a.fromRadiansArray=function(e,n,r){var i=e.length;t.defined(r)?r.length=i/2:r=new Array(i/2);for(var u=0;u<i;u+=2){var o=e[u],d=e[u+1],f=u/2;r[f]=a.fromRadians(o,d,0,n,r[f])}return r},a.fromDegreesArrayHeights=function(e,n,r){var i=e.length;t.defined(r)?r.length=i/3:r=new Array(i/3);for(var u=0;u<i;u+=3){var o=e[u],d=e[u+1],f=e[u+2],l=u/3;r[l]=a.fromDegrees(o,d,f,n,r[l])}return r},a.fromRadiansArrayHeights=function(e,n,r){var i=e.length;t.defined(r)?r.length=i/3:r=new Array(i/3);for(var u=0;u<i;u+=3){var o=e[u],d=e[u+1],f=e[u+2],l=u/3;r[l]=a.fromRadians(o,d,f,n,r[l])}return r},a.ZERO=Object.freeze(new a(0,0,0)),a.UNIT_X=Object.freeze(new a(1,0,0)),a.UNIT_Y=Object.freeze(new a(0,1,0)),a.UNIT_Z=Object.freeze(new a(0,0,1)),a.UNIT_XYZ=Object.freeze(new a(1,1,1)),a.prototype.clone=function(e){return a.clone(this,e)},a.prototype.equals=function(e){return a.equals(this,e)},a.prototype.equalsEpsilon=function(e,n,t){return a.equalsEpsilon(this,e,n,t)},a.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},a.prototype.toArray=function(e,n){a.pack(this,e,n)},a.globalOffset=new a(0,0,0);var h=new a,y=new a;function m(e,n,i,u,o){var d=e.x,f=e.y,l=e.z,s=n.x,c=n.y,m=n.z,z=d*d*s*s,x=f*f*c*c,g=l*l*m*m,p=z+x+g,M=Math.sqrt(1/p),v=a.multiplyByScalar(e,M,h);if(p<u)return isFinite(M)?a.clone(v,o):void 0;var w=i.x,C=i.y,q=i.z,b=y;b.x=v.x*w*2,b.y=v.y*C*2,b.z=v.z*q*2;var R,S,A,k,E,O,B,V=(1-M)*a.magnitude(e)/(.5*a.magnitude(b)),I=0;do{I=(R=z*(E=(S=1/(1+(V-=I)*w))*S)+x*(O=(A=1/(1+V*C))*A)+g*(B=(k=1/(1+V*q))*k)-1)/(-2*(z*(E*S)*w+x*(O*A)*C+g*(B*k)*q))}while(Math.abs(R)>r.CesiumMath.EPSILON12);return t.defined(o)?(o.x=d*S,o.y=f*A,o.z=l*k,o):new a(d*S,f*A,l*k)}function z(e,n,r){this.longitude=t.defaultValue(e,0),this.latitude=t.defaultValue(n,0),this.height=t.defaultValue(r,0)}z.fromRadians=function(e,n,r,a){return r=t.defaultValue(r,0),t.defined(a)?(a.longitude=e,a.latitude=n,a.height=r,a):new z(e,n,r)},z.fromDegrees=function(e,n,t,a){return e=r.CesiumMath.toRadians(e),n=r.CesiumMath.toRadians(n),z.fromRadians(e,n,t,a)};var x=new a,g=new a,p=new a,M=new a(1/6378137,1/6378137,1/6356752.314245179),v=new a(1/40680631590769,1/40680631590769,1/40408299984661.445),w=r.CesiumMath.EPSILON1;z.fromCartesian=function(e,n,i){var u=t.defined(n)?n.oneOverRadii:M,o=t.defined(n)?n.oneOverRadiiSquared:v,d=m(e,u,o,t.defined(n)?n._centerToleranceSquared:w,g);if(t.defined(d)){var f=a.multiplyComponents(d,o,x);f=a.normalize(f,f);var l=a.subtract(e,d,p),s=Math.atan2(f.y,f.x),c=Math.asin(f.z),h=r.CesiumMath.sign(a.dot(l,e))*a.magnitude(l);return t.defined(i)?(i.longitude=s,i.latitude=c,i.height=h,i):new z(s,c,h)}},z.toCartesian=function(e,n,t){return a.fromRadians(e.longitude,e.latitude,e.height,n,t)},z.sphericalDistance=function(e,t,a,i){if(n.Check.defined("longitudeA",e),n.Check.defined("longitudeB",a),n.Check.defined("latitudeA",t),n.Check.defined("latitudeB",i),e===a&&t===i)return 0;var u=r.CesiumMath.toRadians(t),o=r.CesiumMath.toRadians(i),d=r.CesiumMath.toRadians(e),f=r.CesiumMath.toRadians(a),l=d*d+u*u,s=f*f+o*o,c=(l+s-((d-f)*(d-f)+(u-o)*(u-o)))/(2*Math.sqrt(l)*Math.sqrt(s));return c=r.CesiumMath.clamp(c,-1,1),6378137*Math.acos(c)},z.clone=function(e,n){if(t.defined(e))return t.defined(n)?(n.longitude=e.longitude,n.latitude=e.latitude,n.height=e.height,n):new z(e.longitude,e.latitude,e.height)},z.equals=function(e,n){return e===n||t.defined(e)&&t.defined(n)&&e.longitude===n.longitude&&e.latitude===n.latitude&&e.height===n.height},z.equalsEpsilon=function(e,n,r){return e===n||t.defined(e)&&t.defined(n)&&Math.abs(e.longitude-n.longitude)<=r&&Math.abs(e.latitude-n.latitude)<=r&&Math.abs(e.height-n.height)<=r},z.ZERO=Object.freeze(new z(0,0,0)),z.prototype.clone=function(e){return z.clone(this,e)},z.prototype.equals=function(e){return z.equals(this,e)},z.prototype.equalsEpsilon=function(e,n){return z.equalsEpsilon(this,e,n)},z.prototype.toString=function(){return"("+this.longitude+", "+this.latitude+", "+this.height+")"},e.Cartesian3=a,e.Cartographic=z,e.scaleToGeodeticSurface=m}));
